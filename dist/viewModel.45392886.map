{"version":3,"sources":["js/viewModel.js"],"names":["AppViewModel","self","defaultIndex","cardHeight","showSelectedProductsDrawer","ko","observable","duration","loanTerm","isSearchingByPrice","isDragging","productDetails","observableArray","products","activeProductIndex","activeProduct","costs","activeCostIndex","activeCost","coverages","coveragesIndex","deductibles","deductiblesIndex","termMiles","termMilesIndex","activeTermMiles","termMonths","termMonthsIndex","activeTermMonths","selectedOptions","allDraggables","handleProductsWrapperDragged","returnedValue","notProductColumns","$","each","columnData","index","domElement","push","draggableElementString","draggableElement","elementChildrenCount","children","length","target","classList","contains","splice","makeCardsDraggable","callback","bindingValue","TweenMax","to","y","cost","handleCostWrapperDragged","handleMilesWrapperDragged","console","log","handleTermWrapperDragged","loadProducts","ajax","url","success","result","productObject","isSelected","DisplayName","InternalProductId","productId","createProductDetails","async","productDetail","productIndex","productValues","populateValues","map","product","data","Rates","RatedTerms","optionIsSelected","optionsIndex","RetailCost","RatedTerm","details","miles","TermMiles","toString","slice","months","TermMonths","subscribe","callBack","elementChildren","snapArray","Array","i","generateDraggableIndex","value01","value02","Math","abs","round","animateAllCards","addClass","opacity","transform","removeClass","set","newDraggable","Draggable","create","type","edgeResistance","throwProps","snap","zIndexBoost","maxDuration","onClick","onDrag","draggableIndex","onThrowUpdate","onThrowComplete","endY","addProductWithOptions","selectedOption","productName","productInfo","removeProductWithOptions","planCost","computed","totalCost","monthlyCost","floor","toFixed","productCount","showHideOptionsDrawer","init","css","top","document","ready","setActiveProduct","applyBindings","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,YAAT,GAAwB;AACpB,QAAIC,OAAO,IAAX;;AAEA;AACAA,SAAKC,YAAL,GAAoB,CAApB;AACAD,SAAKE,UAAL,GAAkB,GAAlB;AACAF,SAAKG,0BAAL,GAAkCC,GAAGC,UAAH,CAAc,KAAd,CAAlC;;AAEA,QAAIC,WAAW,IAAf;;AAEAN,SAAKO,QAAL,GAAgBH,GAAGC,UAAH,CAAc,EAAd,CAAhB;;AAEA;AACAL,SAAKQ,kBAAL,GAA0B,IAA1B;;AAEA;AACAR,SAAKS,UAAL,GAAkBL,GAAGC,UAAH,CAAc,KAAd,CAAlB;;AAEA;AACAL,SAAKU,cAAL,GAAsBN,GAAGO,eAAH,EAAtB;;AAEAX,SAAKY,QAAL,GAAgBR,GAAGO,eAAH,EAAhB;AACAX,SAAKa,kBAAL,GAA0BT,GAAGC,UAAH,EAA1B;AACAL,SAAKc,aAAL,GAAqBV,GAAGC,UAAH,EAArB;;AAEAL,SAAKe,KAAL,GAAaX,GAAGO,eAAH,EAAb;AACAX,SAAKgB,eAAL,GAAuBZ,GAAGC,UAAH,EAAvB;AACAL,SAAKiB,UAAL,GAAkBb,GAAGC,UAAH,EAAlB;;AAEAL,SAAKkB,SAAL,GAAiBd,GAAGO,eAAH,EAAjB;AACAX,SAAKmB,cAAL,GAAsBf,GAAGC,UAAH,EAAtB;;AAEAL,SAAKoB,WAAL,GAAmBhB,GAAGO,eAAH,EAAnB;AACAX,SAAKqB,gBAAL,GAAwBjB,GAAGC,UAAH,EAAxB;;AAEAL,SAAKsB,SAAL,GAAiBlB,GAAGO,eAAH,EAAjB;AACAX,SAAKuB,cAAL,GAAsBnB,GAAGC,UAAH,EAAtB;AACAL,SAAKwB,eAAL,GAAuBpB,GAAGC,UAAH,EAAvB;;AAEAL,SAAKyB,UAAL,GAAkBrB,GAAGO,eAAH,EAAlB;AACAX,SAAK0B,eAAL,GAAuBtB,GAAGC,UAAH,EAAvB;AACAL,SAAK2B,gBAAL,GAAwBvB,GAAGC,UAAH,EAAxB;;AAEAL,SAAK4B,eAAL,GAAuBxB,GAAGO,eAAH,EAAvB;;AAEA;AACAX,SAAK6B,aAAL,GAAqB,EAArB;;AAGA;;;;;AAKA;AACA7B,SAAK8B,4BAAL,GAAoC,UAASC,aAAT,EAAuB;;AAEvD;AACA,YAAIC,oBAAoB,EAAxB;AACAC,UAAEC,IAAF,CAAOlC,KAAKmC,UAAZ,EAAwB,UAASC,KAAT,EAAe;AACnCpC,iBAAKmC,UAAL,CAAgBC,KAAhB,EAAuBC,UAAvB,IAAqC,mBAArC,GAA2DL,kBAAkBM,IAAlB,CAAuBtC,KAAKmC,UAAL,CAAgBC,KAAhB,CAAvB,CAA3D,GAA4G,IAA5G;AACH,SAFD;;AAIA;AACAH,UAAEC,IAAF,CAAOF,iBAAP,EAA0B,UAASI,KAAT,EAAe;;AAErC;AACA,gBAAIG,yBAAyBP,kBAAkBI,KAAlB,EAAyBC,UAAtD;AAAA,gBACIG,mBAAmBP,EAAEM,sBAAF,CADvB;AAAA,gBAEIE,uBAAuBR,EAAEO,gBAAF,EAAoBE,QAApB,GAA+BC,MAF1D;;AAIA;AACAV,cAAEC,IAAF,CAAOlC,KAAK6B,aAAZ,EAA2B,UAASO,KAAT,EAAe;AACtC,oBAAIpC,KAAK6B,aAAL,CAAmBO,KAAnB,EAA0B,CAA1B,EAA6BQ,MAA7B,CAAoCC,SAApC,CAA8CC,QAA9C,CAAuDP,sBAAvD,CAAJ,EAAmF;AAC/EvC,yBAAK6B,aAAL,CAAmBkB,MAAnB,CAA0BX,KAA1B,EAAiC,CAAjC;AACH;AACJ,aAJD;;AAMA;AACApC,iBAAKgD,kBAAL,CAAwBf,EAAEjC,KAAKmC,UAAL,CAAgBC,QAAM,CAAtB,EAAyBC,UAA3B,CAAxB,EAAgErC,KAAKmC,UAAL,CAAgBC,QAAM,CAAtB,EAAyBa,QAAzF,EAAmGjD,KAAKmC,UAAL,CAAgBC,QAAM,CAAtB,EAAyBc,YAA5H;;AAEA;AACA,gBAAGT,uBAAwBzC,KAAKC,YAAL,GAAoB,CAA/C,EAAkD;AAC9CkD,yBAASC,EAAT,CAAYZ,gBAAZ,EAA8BlC,QAA9B,EAAwC;AACpC+C,uBAAG,CAACZ,uBAAuB,CAAxB,IAA6BzC,KAAKE;AADD,iBAAxC;AAGH,aAJD,MAIO;AACHiD,yBAASC,EAAT,CAAYZ,gBAAZ,EAA8BlC,QAA9B,EAAwC;AACpC+C,uBAAG;AADiC,iBAAxC;AAGH;AAEJ,SA5BD;;AA8BA;AACArD,aAAKiB,UAAL,CAAgBjB,KAAKe,KAAL,GAAaf,KAAKgB,eAAL,EAAb,EAAqCsC,IAArD;AACH,KAzCD;;AA2CAtD,SAAKuD,wBAAL,GAAgC,UAASxB,aAAT,EAAuB;AACnD;AACA/B,aAAKgB,eAAL,CAAqBe,aAArB;AACA/B,aAAKiB,UAAL,CAAgBjB,KAAKe,KAAL,GAAagB,aAAb,EAA4BuB,IAA5C;AACH,KAJD;;AAMAtD,SAAKwD,yBAAL,GAAiC,YAAU;AACvCC,gBAAQC,GAAR,CAAY,uBAAZ;AACH,KAFD;;AAIA1D,SAAK2D,wBAAL,GAAgC,YAAU;AACtCF,gBAAQC,GAAR,CAAY,sBAAZ;AACH,KAFD;;AAIA;;;;;;AAMA;AACA1D,SAAK4D,YAAL,GAAoB,YAAU;AAC1B3B,UAAE4B,IAAF,CAAO,EAACC,KAAK,2BAAN;AACHC,qBAAS,iBAASC,MAAT,EAAgB;AACb/B,kBAAEC,IAAF,CAAO8B,OAAOpD,QAAd,EAAwB,UAASwB,KAAT,EAAe;AACnC,wBAAI6B,gBAAgB;AAChBC,oCAAY9D,GAAGC,UAAH,CAAc,KAAd,CADI;AAEhB8D,qCAAaH,OAAOpD,QAAP,CAAgBwB,KAAhB,EAAuB+B,WAFpB;AAGhBC,2CAAmBJ,OAAOpD,QAAP,CAAgBwB,KAAhB,EAAuBgC;AAH1B,qBAApB;AAKApE,yBAAKY,QAAL,CAAc0B,IAAd,CAAmB2B,aAAnB;AACA,wBAAII,YAAYL,OAAOpD,QAAP,CAAgBwB,KAAhB,EAAuBgC,iBAAvC;AACApE,yBAAKsE,oBAAL,CAA0BD,SAA1B,EAAqCjC,KAArC;AACH,iBATD;AAUH,aAZN;AAaHmC,mBAAO,KAbJ,EAAP;AAcH,KAfD;;AAiBA;AACAvE,SAAKsE,oBAAL,GAA4B,UAASD,SAAT,EAAoBjC,KAApB,EAA0B;AAClDH,UAAE4B,IAAF,CAAO,EAACC,KAAK,iBAAiBO,SAAjB,GAA6B,OAAnC;AACHN,qBAAS,iBAASC,MAAT,EAAiB;AACtB,oBAAIQ,gBAAgB;AAChBC,kCAAcrC,KADE;AAEhBiC,+BAAWA,SAFK;AAGhBK,mCAAeV;AAHC,iBAApB;AAKAhE,qBAAKU,cAAL,CAAoB4B,IAApB,CAAyBkC,aAAzB;AACH,aARE;AASHD,mBAAO,KATJ,EAAP;AAUAd,gBAAQC,GAAR,CAAY1D,KAAKU,cAAL,EAAZ;AACH,KAZD;;AAcA;AACAV,SAAK2E,cAAL,GAAsB,YAAU;AAC5B3E,aAAKe,KAAL,CAAW,EAAX;AACAf,aAAKyB,UAAL,CAAgB,EAAhB;AACAzB,aAAKsB,SAAL,CAAe,EAAf;AACA;AACAtB,aAAKU,cAAL,GAAsBkE,GAAtB,CAA0B,UAASC,OAAT,EAAiB;AACvC,gBAAIA,QAAQR,SAAR,KAAsBrE,KAAKc,aAAL,EAA1B,EAA+C;AAC3C,oBAAIgE,OAAOD,QAAQH,aAAR,CAAsBK,KAAtB,CAA4B,CAA5B,EAA+BC,UAA1C;AACA;AACA/C,kBAAEC,IAAF,CAAO4C,IAAP,EAAa,UAAS1C,KAAT,EAAe;AACxB,wBAAI6C,mBAAmB,KAAvB;AACA;AACA,wBAAIjF,KAAK4B,eAAL,GAAuBe,MAAvB,GAAgC,CAApC,EAAuC;AACnC;AACAV,0BAAEC,IAAF,CAAOlC,KAAK4B,eAAL,EAAP,EAA+B,UAASsD,YAAT,EAAsB;AACjD;AACA,gCAAIlF,KAAK4B,eAAL,GAAuBsD,YAAvB,EAAqCb,SAArC,IAAkDQ,QAAQR,SAA9D,EAA0E;AACtE;AACA,oCAAIrE,KAAK4B,eAAL,GAAuBsD,YAAvB,EAAqCtD,eAArC,CAAqD0B,IAArD,IAA6DwB,KAAK1C,KAAL,EAAY+C,UAA7E,EAAyF;AACrF1B,4CAAQC,GAAR,CAAY,kBAAZ;AACAuB,uDAAmB,IAAnB;AACH;AACJ;AACJ,yBATD;AAUH;AACD,wBAAIG,YAAYN,KAAK1C,KAAL,EAAYgD,SAA5B;AACA;AACA,wBAAIC,UAAU;AACV/B,8BAAMwB,KAAK1C,KAAL,EAAY+C,UADR;AAEVG,+BAAOF,UAAUG,SAAV,CAAoBC,QAApB,GAA+BC,KAA/B,CAAqC,CAArC,EAAwC,CAAC,CAAzC,CAFG;AAGVC,gCAAQN,UAAUO,UAHR;AAIVzB,oCAAY9D,GAAGC,UAAH,CAAc4E,gBAAd;AAJF,qBAAd;AAMA;AACAjF,yBAAKe,KAAL,CAAWuB,IAAX,CAAgB+C,OAAhB;;AAEA;AACArF,yBAAKyB,UAAL,CAAgBa,IAAhB,CAAqB8C,UAAUG,SAAV,CAAoBC,QAApB,GAA+BC,KAA/B,CAAqC,CAArC,EAAwC,CAAC,CAAzC,CAArB;;AAEA;AACAzF,yBAAKsB,SAAL,CAAegB,IAAf,CAAoB8C,UAAUO,UAA9B;AACH,iBAhCD;AAiCH;AACJ,SAtCD;AAuCH,KA5CD;;AAiDA;;;;;AAKA;AACA3F,SAAKa,kBAAL,CAAwB+E,SAAxB,CAAkC,YAAU;AACxC5F,aAAKc,aAAL,CAAmBd,KAAKY,QAAL,GAAgBZ,KAAKa,kBAAL,EAAhB,EAA2CuD,iBAA9D;AACApE,aAAK2E,cAAL;AACH,KAHD;;AAKA;;;;;;AAMA;AACA3E,SAAKmC,UAAL,GAAkB,CACd;AACIC,eAAO,CADX;AAEIC,oBAAY,mBAFhB;AAGIY,kBAAUjD,KAAK8B,4BAHnB;AAIIoB,sBAAclD,KAAKa;AAJvB,KADc,EAOd;AACIuB,eAAO,CADX;AAEIC,oBAAY,eAFhB;AAGIY,kBAAUjD,KAAKuD,wBAHnB;AAIIL,sBAAclD,KAAKgB;AAJvB,KAPc,CAAlB;;AAeA;AACAhB,SAAKgD,kBAAL,GAA0B,UAASR,gBAAT,EAA2BqD,QAA3B,EAAqC3C,YAArC,EAAkD;AACxE;AACA,YAAI4C,kBAAkB7D,EAAEO,gBAAF,EAAoBE,QAApB,EAAtB;AAAA,YACID,uBAAuBR,EAAE6D,eAAF,EAAmBnD,MAD9C;;AAGA;AACA,YAAIoD,YAAY,IAAIC,KAAJ,EAAhB;AACA,aAAI,IAAIC,IAAI,CAACjG,KAAKC,YAAlB,EAAgCgG,IAAIxD,uBAAuBzC,KAAKC,YAAhE,EAA8EgG,GAA9E,EAAkF;AAC9EF,sBAAUzD,IAAV,CAAgB,EAAE2D,IAAIjG,KAAKE,UAAX,CAAhB;AACH;;AAED;AACA,YAAGuC,uBAAwBzC,KAAKC,YAAL,GAAoB,CAA/C,EAAkD;AAC9CkD,qBAASC,EAAT,CAAYZ,gBAAZ,EAA8BlC,QAA9B,EAAwC;AACpC+C,mBAAG,CAACZ,uBAAuB,CAAxB,IAA6BzC,KAAKE;AADD,aAAxC;AAGH,SAJD,MAIO;AACHiD,qBAASC,EAAT,CAAYZ,gBAAZ,EAA8BlC,QAA9B,EAAwC;AACpC+C,mBAAG;AADiC,aAAxC;AAGH;;AAED;AACA,YAAI6C,yBAAyB,SAAzBA,sBAAyB,CAASC,OAAT,EAAkBC,OAAlB,EAA0B;AACnD,mBAAOC,KAAKC,GAAL,CAASD,KAAKE,KAAL,CAAYJ,UAAQC,OAApB,IAAgCpG,KAAKC,YAA9C,CAAP;AACH,SAFD;;AAIA;AACA,YAAIwC,wBAAwB,CAA5B,EAA8B;AAC1BS,yBAAa,CAAb;AACH,SAFD,MAEO,IAAKT,wBAAwB,CAA7B,EAAiC;AACpCS,yBAAa,CAAb;AACH,SAFM,MAEA;AACHA,yBAAalD,KAAKC,YAAlB;AACH;;AAED,YAAIuG,kBAAkB,SAAlBA,eAAkB,CAAS9D,QAAT,EAAmBN,KAAnB,EAAyB;AAC3CH,cAAEC,IAAF,CAAOQ,QAAP,EAAiB,UAASuD,CAAT,EAAW;AACxB,oBAAIA,MAAM7D,KAAV,EAAiB;AACbH,sBAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,GAAiC+D,QAAjC,CAA0C,gBAA1C;AACAtD,6BAASC,EAAT,CAAYnB,EAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,EAAZ,EAA8CpC,QAA9C,EAAwD;AACpDoG,iCAAS,CAD2C;AAEpDC,mCAAW;AAFyC,qBAAxD;AAIH,iBAND,MAMO,IAAIV,MAAM7D,QAAQ,CAAd,IAAmB6D,MAAM7D,QAAQ,CAArC,EAAuC;AAC1CH,sBAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,GAAiCkE,WAAjC,CAA6C,gBAA7C;AACAzD,6BAASC,EAAT,CAAYnB,EAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,EAAZ,EAA8CpC,QAA9C,EAAwD;AACpDoG,iCAAS,GAD2C;AAEpDC,mCAAW;AAFyC,qBAAxD;AAIH,iBANM,MAMA,IAAIV,MAAM7D,QAAQ,CAAd,IAAmB6D,MAAM7D,QAAQ,CAArC,EAAuC;AAC1CH,sBAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,GAAiCkE,WAAjC,CAA6C,gBAA7C;AACAzD,6BAASC,EAAT,CAAYnB,EAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,EAAZ,EAA8CpC,QAA9C,EAAwD;AACpDoG,iCAAS,GAD2C;AAEpDC,mCAAW;AAFyC,qBAAxD;AAIH,iBANM,MAMA,IAAIV,MAAM7D,QAAQ,CAAd,IAAmB6D,MAAM7D,QAAQ,CAArC,EAAuC;AAC1CH,sBAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,GAAiCkE,WAAjC,CAA6C,gBAA7C;AACAzD,6BAASC,EAAT,CAAYnB,EAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,EAAZ,EAA8CpC,QAA9C,EAAwD;AACpDoG,iCAAS,GAD2C;AAEpDC,mCAAW;AAFyC,qBAAxD;AAIH,iBANM,MAMA,IAAIV,MAAM7D,QAAQ,CAAd,IAAmB6D,MAAM7D,QAAQ,CAArC,EAAuC;AAC1CH,sBAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,GAAiCkE,WAAjC,CAA6C,gBAA7C;AACAzD,6BAASC,EAAT,CAAYnB,EAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,EAAZ,EAA8CpC,QAA9C,EAAwD;AACpDoG,iCAAS,GAD2C;AAEpDC,mCAAW;AAFyC,qBAAxD;AAIH,iBANM,MAMA,IAAIV,IAAI7D,QAAQ,CAAZ,IAAiB6D,IAAI7D,QAAQ,CAAjC,EAAoC;AACvCH,sBAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,GAAiCkE,WAAjC,CAA6C,gBAA7C;AACAzD,6BAAS0D,GAAT,CAAa5E,EAAE6D,gBAAgBG,CAAhB,CAAF,EAAsBvD,QAAtB,EAAb,EAA+C;AAC3CiE,mCAAW;AADgC,qBAA/C;AAGH;AAEJ,aAtCD;AAuCH,SAxCD;;AA2CA;AACAH,wBAAgBV,eAAhB,EAAiC9F,KAAKC,YAAtC;;AAEA;AACA,YAAIwC,wBAAwBzC,KAAKC,YAAjC,EAA+C;AAC3C,gBAAIwC,wBAAwB,CAAxB,IAA6BA,wBAAyBzC,KAAKC,YAA/D,EAA6E;AACzEgC,kBAAE6D,gBAAgB,CAAhB,CAAF,EAAsBpD,QAAtB,CAA+B,eAA/B,EAAgD+D,QAAhD,CAAyD,gBAAzD;AACAtD,yBAASC,EAAT,CAAYnB,EAAE6D,gBAAgB,CAAhB,CAAF,EAAsBpD,QAAtB,CAA+B,eAA/B,CAAZ,EAA6DpC,QAA7D,EAAuE;AACnEoG,6BAAS,CAD0D;AAEnEC,+BAAW;AAFwD,iBAAvE;AAIH;AACJ;;AAED;AACA,YAAIG,eAAeC,UAAUC,MAAV,CAAiBxE,gBAAjB,EAAmC;AAClDyE,kBAAM,GAD4C;AAElDC,4BAAgB,IAFkC;AAGlDC,wBAAW,IAHuC;AAIlDC,kBAAMrB,SAJ4C;AAKlDsB,yBAAa,KALqC;AAMlDC,yBAAahH,QANqC;AAOlDiH,qBAAS,mBAAU;AACfvH,qBAAKS,UAAL,CAAgB,IAAhB;AACH,aATiD;AAUlD+G,oBAAQ,kBAAU;AACd,oBAAIC,iBAAiBvB,uBAAuB,KAAK7C,CAA5B,EAA+BrD,KAAKE,UAApC,CAArB;AACAsG,gCAAgBV,eAAhB,EAAiC2B,cAAjC;AACAzH,qBAAKS,UAAL,CAAgB,IAAhB;AACH,aAdiD;AAelDiH,2BAAe,yBAAU;AACrB,oBAAID,iBAAiBvB,uBAAuB,KAAK7C,CAA5B,EAA+BrD,KAAKE,UAApC,CAArB;AACAsG,gCAAgBV,eAAhB,EAAiC2B,cAAjC;AACAzH,qBAAKS,UAAL,CAAgB,IAAhB;AACH,aAnBiD;AAoBlDkH,6BAAiB,2BAAU;AACvBzE,6BAAamD,KAAKC,GAAL,CAASD,KAAKE,KAAL,CAAW,KAAKqB,IAAL,GAAY5H,KAAKE,UAA5B,IAA0CF,KAAKC,YAAxD,CAAb;AACA4F,yBAASQ,KAAKC,GAAL,CAASD,KAAKE,KAAL,CAAW,KAAKqB,IAAL,GAAY5H,KAAKE,UAA5B,IAA0CF,KAAKC,YAAxD,CAAT;AACAD,qBAAKS,UAAL,CAAgB,KAAhB;AACH;AAxBiD,SAAnC,CAAnB;;AA2BA;AACAT,aAAK6B,aAAL,CAAmBS,IAAnB,CAAwBwE,YAAxB;AACH,KA3HD;;AAiIA;;;;;;AAMA;AACA9G,SAAK6H,qBAAL,GAA6B,YAAU;AACnC;AACA5F,UAAEC,IAAF,CAAOlC,KAAKe,KAAL,EAAP,EAAqB,UAASqB,KAAT,EAAe;AAChCpC,iBAAKe,KAAL,GAAaqB,KAAb,EAAoB8B,UAApB,CAA+B,KAA/B;AACH,SAFD;AAGA;AACAlE,aAAKY,QAAL,GAAgBZ,KAAKa,kBAAL,EAAhB,EAA2CqD,UAA3C,CAAsD,IAAtD;AACAlE,aAAKe,KAAL,GAAaf,KAAKgB,eAAL,EAAb,EAAqCkD,UAArC,CAAgD,IAAhD;AACA,YAAI4D,iBAAiB;AACjBzD,uBAAWrE,KAAKY,QAAL,GAAgBZ,KAAKa,kBAAL,EAAhB,EAA2CuD,iBADrC;AAEjB2D,yBAAa/H,KAAKY,QAAL,GAAgBZ,KAAKa,kBAAL,EAAhB,EAA2CsD,WAFvC;AAGjB6D,yBAAahI,KAAKU,cAAL,GAAsBV,KAAKa,kBAAL,EAAtB,CAHI;AAIjBe,6BAAiB;AACb0B,sBAAMtD,KAAKe,KAAL,GAAaf,KAAKgB,eAAL,EAAb,EAAqCsC;AAD9B;AAJA,SAArB;AAQA;AACA,YAAGtD,KAAK4B,eAAL,GAAuBe,MAAvB,GAAgC,CAAnC,EAAqC;AACjC3C,iBAAK4B,eAAL,CAAqBU,IAArB,CAA0BwF,cAA1B;AACH,SAFD,MAEO;AACH7F,cAAEC,IAAF,CAAOlC,KAAK4B,eAAL,EAAP,EAA+B,UAASQ,KAAT,EAAe;AAC1C;AACA,oBAAIpC,KAAK4B,eAAL,GAAuBQ,KAAvB,EAA8BiC,SAA9B,IAA2CrE,KAAKY,QAAL,GAAgBZ,KAAKa,kBAAL,EAAhB,EAA2CuD,iBAA1F,EAA4G;AACxGpE,yBAAK4B,eAAL,CAAqBmB,MAArB,CAA4BX,KAA5B,EAAmC,CAAnC;AACH;AACJ,aALD;;AAOA;AACApC,iBAAK4B,eAAL,CAAqBU,IAArB,CAA0BwF,cAA1B;AACH;AACJ,KA9BD;;AAgCA;AACA9H,SAAKiI,wBAAL,GAAgC,UAASnD,IAAT,EAAc;;AAE1C,YAAIT,YAAYS,KAAKT,SAArB;;AAEA;AACApC,UAAEC,IAAF,CAAOlC,KAAK4B,eAAL,EAAP,EAA+B,UAASQ,KAAT,EAAe;AAC1C,gBAAGpC,KAAK4B,eAAL,GAAuBQ,KAAvB,EAA8BiC,SAA9B,KAA4CA,SAA/C,EAAyD;AACrDrE,qBAAK4B,eAAL,GAAuBmB,MAAvB,CAA8BX,KAA9B,EAAqC,CAArC;AACA;AACApC,qBAAK4B,eAAL,CAAqB5B,KAAK4B,eAAL,EAArB;AACA;AACA5B,qBAAKsB,SAAL,CAAeyB,MAAf,CAAsBX,KAAtB,EAA6B,CAA7B;AACApC,qBAAKyB,UAAL,CAAgBsB,MAAhB,CAAuBX,KAAvB,EAA8B,CAA9B;AACH;AACJ,SATD;;AAWA;AACAH,UAAEC,IAAF,CAAOlC,KAAKY,QAAL,EAAP,EAAwB,UAASwB,KAAT,EAAe;AACnC,gBAAGpC,KAAKY,QAAL,GAAgBwB,KAAhB,EAAuBgC,iBAAvB,KAA6CC,SAAhD,EAA0D;AACtDrE,qBAAKY,QAAL,GAAgBwB,KAAhB,EAAuB8B,UAAvB,CAAkC,KAAlC;AACH;AACJ,SAJD;AAKH,KAtBD;;AAwBA;;;;;;AAMA;AACAlE,SAAKkI,QAAL,GAAgB9H,GAAG+H,QAAH,CAAY,YAAU;AAClC,YAAIC,YAAY,CAAhB;;AAEAnG,UAAEC,IAAF,CAAOlC,KAAK4B,eAAL,EAAP,EAA+B,UAASQ,KAAT,EAAe;AAC1CgG,yBAAapI,KAAK4B,eAAL,GAAuBQ,KAAvB,EAA8BR,eAA9B,CAA8C0B,IAA3D;AACH,SAFD;;AAIA,eAAO8E,SAAP;AACH,KARe,CAAhB;;AAUA;AACApI,SAAKqI,WAAL,GAAmBjI,GAAG+H,QAAH,CAAY,YAAU;AACrC,YAAIE,cAAc,CAAlB;;AAEApG,UAAEC,IAAF,CAAOlC,KAAK4B,eAAL,EAAP,EAA+B,UAASQ,KAAT,EAAe;AAC1CiG,2BAAgBhC,KAAKiC,KAAL,CAAWtI,KAAK4B,eAAL,GAAuBQ,KAAvB,EAA8BR,eAA9B,CAA8C0B,IAAzD,CAAD,GAAiE+C,KAAKiC,KAAL,CAAWtI,KAAKO,QAAL,EAAX,CAAhF;AACH,SAFD;;AAIA8H,sBAAcA,YAAYE,OAAZ,CAAoB,CAApB,CAAd;;AAEA,eAAOF,WAAP;AACH,KAVkB,CAAnB;;AAYA;AACArI,SAAKwI,YAAL,GAAoBpI,GAAG+H,QAAH,CAAY,YAAU;;AAEtC,eAAOnI,KAAK4B,eAAL,GAAuBe,MAA9B;AACH,KAHmB,CAApB;;AAKA;;;;;;AAMA;AACA3C,SAAKyI,qBAAL,GAA6B,YAAU;AACnCzI,aAAKG,0BAAL,CAAgC,CAACH,KAAKG,0BAAL,EAAjC;AACH,KAFD;;AAKA;;;;;;AAMA;AACAH,SAAK0I,IAAL,GAAY,YAAU;AAClB;AACAzG,UAAE,oBAAF,EAAwB0G,GAAxB,CAA4B,EAAEC,KAAK5I,KAAKC,YAAL,GAAoBD,KAAKE,UAAzB,GAAsC,IAA7C,EAA5B;AACA;AACAF,aAAK4D,YAAL;AACA;AACA3B,UAAEC,IAAF,CAAOlC,KAAKmC,UAAZ,EAAwB,UAASC,KAAT,EAAe;AACnCpC,iBAAKgD,kBAAL,CAAwBf,EAAEjC,KAAKmC,UAAL,CAAgBC,KAAhB,EAAuBC,UAAzB,CAAxB,EAA8DrC,KAAKmC,UAAL,CAAgBC,KAAhB,EAAuBa,QAArF,EAA+FjD,KAAKmC,UAAL,CAAgBC,KAAhB,EAAuBc,YAAtH;AACH,SAFD;AAGH,KATD;;AAWA;AACAjB,MAAE4G,QAAF,EAAYC,KAAZ,CAAkB,YAAU;AACxB9I,aAAK0I,IAAL;AACH,KAFD;;AAOA;;;;;;AAMA,WAAO;AACH9H,kBAAUZ,KAAKY,QADZ;AAEHF,wBAAgBV,KAAKU,cAFlB;AAGHI,uBAAed,KAAKc,aAHjB;AAIHD,4BAAoBb,KAAKa,kBAJtB;AAKHI,oBAAYjB,KAAKiB,UALd;AAMHD,yBAAiBhB,KAAKgB,eANnB;AAOHf,sBAAcD,KAAKC,YAPhB;AAQH8I,0BAAkB/I,KAAK+I,gBARpB;AASHhI,eAAOf,KAAKe,KATT;AAUHO,mBAAWtB,KAAKsB,SAVb;AAWHG,oBAAYzB,KAAKyB,UAXd;AAYHjB,4BAAoBR,KAAKQ,kBAZtB;AAaHqH,+BAAuB7H,KAAK6H,qBAbzB;AAcHjG,yBAAiB5B,KAAK4B,eAdnB;AAeHzB,oCAA4BH,KAAKG,0BAf9B;AAgBHsI,+BAAuBzI,KAAKyI,qBAhBzB;AAiBHR,kCAA0BjI,KAAKiI,wBAjB5B;AAkBHxH,oBAAYT,KAAKS,UAlBd;AAmBHyH,kBAAUlI,KAAKkI,QAnBZ;AAoBHG,qBAAarI,KAAKqI,WApBf;AAqBHG,sBAAcxI,KAAKwI,YArBhB;AAsBHjI,kBAAUP,KAAKO;AAtBZ,KAAP;AAwBH;;AAED;AACAH,GAAG4I,aAAH,CAAiB,IAAIjJ,YAAJ,EAAjB,EAAqC8I,SAASI,cAAT,CAAwB,oBAAxB,CAArC;;AAEA;AACA;AACA;AACA;AACA","file":"viewModel.45392886.map","sourceRoot":"..","sourcesContent":["function AppViewModel() {\n    var self = this;\n\n    // The starting position of the app - This sets how many 'cards' from the top the 'focus' section is plus a 'cardHeight' in Pixels\n    self.defaultIndex = 2;\n    self.cardHeight = 120;\n    self.showSelectedProductsDrawer = ko.observable(false);\n\n    var duration = 0.25;\n\n    self.loanTerm = ko.observable(48);\n\n    // Boolean value that decides if the user is searching by price, or by term and miles\n    self.isSearchingByPrice = true;\n\n    // Boolean to stop certain user events if draggable or throw is happening\n    self.isDragging = ko.observable(false);\n\n    // This is where we cache all the product details for our quote\n    self.productDetails = ko.observableArray();\n\n    self.products = ko.observableArray();\n    self.activeProductIndex = ko.observable();\n    self.activeProduct = ko.observable();\n\n    self.costs = ko.observableArray();\n    self.activeCostIndex = ko.observable();\n    self.activeCost = ko.observable();\n\n    self.coverages = ko.observableArray();\n    self.coveragesIndex = ko.observable();\n\n    self.deductibles = ko.observableArray();\n    self.deductiblesIndex = ko.observable();\n\n    self.termMiles = ko.observableArray();\n    self.termMilesIndex = ko.observable();\n    self.activeTermMiles = ko.observable();\n\n    self.termMonths = ko.observableArray();\n    self.termMonthsIndex = ko.observable();\n    self.activeTermMonths = ko.observable();\n\n    self.selectedOptions = ko.observableArray();\n\n    //Array that we use to store our draggables in so that we can garbage collect later\n    self.allDraggables = [];\n\n\n    /*\n     *\n     *  Event handler callbacks that get triggered once a column on the UI completes its 'drag'\n     *\n     */\n    // Handle completion of products dragged\n    self.handleProductsWrapperDragged = function(returnedValue){\n\n        //Remove our original 'costs' drggable from the DOM, as its contents will have changed. Create a new one\n        var notProductColumns = [];\n        $.each(self.columnData, function(index){\n            self.columnData[index].domElement != '.products-wrapper' ? notProductColumns.push(self.columnData[index]) : null;\n        });\n\n        // For each column that is not the '.products-wrapper' we need to remove them from the DOM, and create new draggables with the udpated content\n        $.each(notProductColumns, function(index){\n\n            // First assign a class selector for each one\n            var draggableElementString = notProductColumns[index].domElement,\n                draggableElement = $(draggableElementString),\n                elementChildrenCount = $(draggableElement).children().length;\n\n            // The remove each from the draggables Array\n            $.each(self.allDraggables, function(index){\n                if (self.allDraggables[index][0].target.classList.contains(draggableElementString)){\n                    self.allDraggables.splice(index, 1);\n                }\n            });\n\n            // And create a new draggable based on the updated contents of the dom element\n            self.makeCardsDraggable($(self.columnData[index+1].domElement), self.columnData[index+1].callback, self.columnData[index+1].bindingValue);\n\n            //If our element list is less than the top offset of the focus row, animate it to that position.\n            if(elementChildrenCount < (self.defaultIndex + 1)){\n                TweenMax.to(draggableElement, duration, {\n                    y: (elementChildrenCount + 1) * self.cardHeight\n                });\n            } else {\n                TweenMax.to(draggableElement, duration, {\n                    y: 0\n                });\n            }\n\n        });\n\n        // Update our activeCost\n        self.activeCost(self.costs()[self.activeCostIndex()].cost);\n    };\n\n    self.handleCostWrapperDragged = function(returnedValue){\n        //Set our activeCost Index\n        self.activeCostIndex(returnedValue);\n        self.activeCost(self.costs()[returnedValue].cost);\n    };\n\n    self.handleMilesWrapperDragged = function(){\n        console.log('Miles wrapper dragged');\n    };\n\n    self.handleTermWrapperDragged = function(){\n        console.log('Term wrapper dragged');\n    };\n\n    /*\n    *\n    * Data retrieval and object creation functions\n    *\n    */\n\n    //load products\n    self.loadProducts = function(){\n        $.ajax({url: './mock_data/products.json',\n            success: function(result){\n                        $.each(result.products, function(index){\n                            var productObject = {\n                                isSelected: ko.observable(false),\n                                DisplayName: result.products[index].DisplayName,\n                                InternalProductId: result.products[index].InternalProductId,\n                            };\n                            self.products.push(productObject);\n                            var productId = result.products[index].InternalProductId;\n                            self.createProductDetails(productId, index);\n                        });\n                    },\n            async: false});\n    };\n\n    //load product details into a cached object\n    self.createProductDetails = function(productId, index){\n        $.ajax({url: './mock_data/' + productId + '.json',\n            success: function(result) {\n                var productDetail = {\n                    productIndex: index,\n                    productId: productId,\n                    productValues: result\n                };\n                self.productDetails.push(productDetail);\n            },\n            async: false});\n        console.log(self.productDetails());\n    };\n\n    // Populate our Costs, termMiles and termMonths Arrays - Happens each time the ActiveProduct is changed\n    self.populateValues = function(){\n        self.costs([]);\n        self.termMonths([]);\n        self.termMiles([]);\n        // Loop through our productDetails Object\n        self.productDetails().map(function(product){\n            if (product.productId === self.activeProduct()){\n                var data = product.productValues.Rates[0].RatedTerms;\n                // Then loop through each of the rates available to the selected product\n                $.each(data, function(index){\n                    var optionIsSelected = false;\n                    // Check to see if we have any selected rates for the selected product already\n                    if( self.selectedOptions().length > 0 ){\n                        //Loop through all of our selectedOptions to find a match up for the activeProduct\n                        $.each(self.selectedOptions(), function(optionsIndex){\n                            // Check to make sure the product ids match up\n                            if (self.selectedOptions()[optionsIndex].productId == product.productId ) {\n                                // The find the matching cost from the options\n                                if( self.selectedOptions()[optionsIndex].selectedOptions.cost == data[index].RetailCost ){\n                                    console.log('We have a winner');\n                                    optionIsSelected = true;\n                                }\n                            }\n                        });\n                    }\n                    var RatedTerm = data[index].RatedTerm;\n                    // console.log(RatedTerm);\n                    var details = {\n                        cost: data[index].RetailCost,\n                        miles: RatedTerm.TermMiles.toString().slice(0, -3),\n                        months: RatedTerm.TermMonths,\n                        isSelected: ko.observable(optionIsSelected)\n                    };\n                    // populate our costs\n                    self.costs.push(details);\n\n                    // populate our termMonths\n                    self.termMonths.push(RatedTerm.TermMiles.toString().slice(0, -3));\n\n                    // populate our termMiles\n                    self.termMiles.push(RatedTerm.TermMonths);\n                });\n            }\n        });\n    };\n\n\n\n\n    /*\n     *\n     * Observable subscribers\n     *\n     */\n    // Event subscriber for when we update the active product - This happens complete a drag of the products column\n    self.activeProductIndex.subscribe(function(){\n        self.activeProduct(self.products()[self.activeProductIndex()].InternalProductId);\n        self.populateValues();\n    });\n\n    /*\n     *\n     * UI Draggable\n     *\n     */\n\n    // Each object in this array represents a column in our draggable UI - Included are the dom element to be selected, a reference to a callback and the KO observable that it updates.\n    self.columnData = [\n        {\n            index: 0,\n            domElement: '.products-wrapper',\n            callback: self.handleProductsWrapperDragged,\n            bindingValue: self.activeProductIndex\n        },\n        {\n            index: 1,\n            domElement: '.cost-wrapper',\n            callback: self.handleCostWrapperDragged,\n            bindingValue: self.activeCostIndex\n        }\n    ];\n\n    // Makes the selected elements on the DOM draggable\n    self.makeCardsDraggable = function(draggableElement, callBack, bindingValue){\n        // Make our draggable columns draggable\n        var elementChildren = $(draggableElement).children(),\n            elementChildrenCount = $(elementChildren).length;\n\n        // Generate a list of snap values\n        var snapArray = new Array();\n        for(var i = -self.defaultIndex; i < elementChildrenCount - self.defaultIndex; i++){\n            snapArray.push( -(i * self.cardHeight));\n        }\n\n        //If our element list is less than the top offset of the focus row, animate it to that position.\n        if(elementChildrenCount < (self.defaultIndex + 1)){\n            TweenMax.to(draggableElement, duration, {\n                y: (elementChildrenCount + 1) * self.cardHeight\n            });\n        } else {\n            TweenMax.to(draggableElement, duration, {\n                y: 0\n            });\n        }\n\n        // Function to return the index of the card that is in the 'active-card-frame'\n        var generateDraggableIndex = function(value01, value02){\n            return Math.abs(Math.round((value01/value02)) - self.defaultIndex);\n        };\n\n        // Set the default binding values for the cards\n        if( elementChildrenCount == 1){\n            bindingValue(0);\n        } else if ( elementChildrenCount == 2 ) {\n            bindingValue(1);\n        } else {\n            bindingValue(self.defaultIndex);\n        }\n\n        var animateAllCards = function(children, index){\n            $.each(children, function(i){\n                if( i === index ){\n                    $(elementChildren[i]).children().addClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 1,\n                        transform: 'scale3d(1, 1, 1)'\n                    });\n                } else if (i === index - 1 || i === index + 1){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.8,\n                        transform: 'scale3d(0.95, 1, 1)'\n                    });\n                } else if (i === index - 2 || i === index + 2){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.6,\n                        transform: 'scale3d(0.9, 1, 1)'\n                    });\n                } else if (i === index - 3 || i === index + 3){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.4,\n                        transform: 'scale3d(0.85, 1, 1)'\n                    });\n                } else if (i === index - 4 || i === index + 4){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.2,\n                        transform: 'scale3d(0.8, 1, 1)'\n                    });\n                } else if (i < index - 4 || i > index + 4) {\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.set($(elementChildren[i]).children(), {\n                        transform: 'scale3d(1, 1, 1)'\n                    });\n                }\n\n            });\n        };\n\n\n        // Call our animated card methods for the first time...\n        animateAllCards(elementChildren, self.defaultIndex);\n\n        // However, if the total number of children is less than our defaultIndex (2) the first one in the array needs to be set as 'active'\n        if( elementChildrenCount <= self.defaultIndex ){\n            if( elementChildrenCount == 1 || elementChildrenCount ==  self.defaultIndex ){\n                $(elementChildren[0]).children('.card-content').addClass('active-product');\n                TweenMax.to($(elementChildren[0]).children('.card-content'), duration, {\n                    opacity: 1,\n                    transform: 'scale3d(1, 1, 1)'\n                });\n            }\n        }\n\n        //Create the draggable element and assign it a var\n        var newDraggable = Draggable.create(draggableElement, {\n            type: \"y\",\n            edgeResistance: 0.95,\n            throwProps:true,\n            snap: snapArray,\n            zIndexBoost: false,\n            maxDuration: duration,\n            onClick: function(){\n                self.isDragging(true);\n            },\n            onDrag: function(){\n                var draggableIndex = generateDraggableIndex(this.y, self.cardHeight);\n                animateAllCards(elementChildren, draggableIndex);\n                self.isDragging(true);\n            },\n            onThrowUpdate: function(){\n                var draggableIndex = generateDraggableIndex(this.y, self.cardHeight);\n                animateAllCards(elementChildren, draggableIndex);\n                self.isDragging(true);\n            },\n            onThrowComplete: function(){\n                bindingValue(Math.abs(Math.round(this.endY / self.cardHeight) - self.defaultIndex));\n                callBack(Math.abs(Math.round(this.endY / self.cardHeight) - self.defaultIndex));\n                self.isDragging(false);\n            }\n        });\n\n        //Push all draggables to an array so that we can access them later.\n        self.allDraggables.push(newDraggable);\n    };\n\n\n\n\n\n    /*\n     *\n     * Handle adding and removing products\n     *\n     */\n\n    // Adds a given current product to your product list\n    self.addProductWithOptions = function(){\n        //Set all of our options isSelected to false\n        $.each(self.costs(), function(index){\n            self.costs()[index].isSelected(false);\n        });\n        // Set the isSelected Observable on the active product and option\n        self.products()[self.activeProductIndex()].isSelected(true);\n        self.costs()[self.activeCostIndex()].isSelected(true);\n        var selectedOption = {\n            productId: self.products()[self.activeProductIndex()].InternalProductId,\n            productName: self.products()[self.activeProductIndex()].DisplayName,\n            productInfo: self.productDetails()[self.activeProductIndex()],\n            selectedOptions: {\n                cost: self.costs()[self.activeCostIndex()].cost\n            }\n        };\n        // The first time we add an option, we need to push it\n        if(self.selectedOptions().length < 1){\n            self.selectedOptions.push(selectedOption);\n        } else {\n            $.each(self.selectedOptions(), function(index){\n                // If the product already exists, remove it from the array\n                if( self.selectedOptions()[index].productId == self.products()[self.activeProductIndex()].InternalProductId){\n                    self.selectedOptions.splice(index, 1);\n                }\n            });\n\n            // Then create a new cost selectedOption object\n            self.selectedOptions.push(selectedOption);\n        }\n    };\n\n    // Removes a selected product from our selectedOptions\n    self.removeProductWithOptions = function(data){\n\n        var productId = data.productId;\n\n        // Look through each of our selectedOptions and by matching the productId to the data.productId remove it from the selectedOptions\n        $.each(self.selectedOptions(), function(index){\n            if(self.selectedOptions()[index].productId === productId){\n                self.selectedOptions().splice(index, 1);\n                // Make the observable observe itself to force a UI update\n                self.selectedOptions(self.selectedOptions());\n                // And remove the same from our termMonths and termMiles arrays\n                self.termMiles.splice(index, 1);\n                self.termMonths.splice(index, 1);\n            }\n        });\n\n        // Unselect the selected product\n        $.each(self.products(), function(index){\n            if(self.products()[index].InternalProductId === productId){\n                self.products()[index].isSelected(false);\n            }\n        });\n    };\n\n    /*\n     *\n     * Computed variables\n     *\n     */\n\n    // ko.computed to gather the total cost of our plan\n    self.planCost = ko.computed(function(){\n        var totalCost = 0;\n\n        $.each(self.selectedOptions(), function(index){\n            totalCost += self.selectedOptions()[index].selectedOptions.cost;\n        });\n\n        return totalCost\n    });\n\n    // ko.computed to get monthly cost of our plan\n    self.monthlyCost = ko.computed(function(){\n        var monthlyCost = 0;\n\n        $.each(self.selectedOptions(), function(index){\n            monthlyCost += (Math.floor(self.selectedOptions()[index].selectedOptions.cost))/Math.floor(self.loanTerm());\n        });\n\n        monthlyCost = monthlyCost.toFixed(2);\n\n        return monthlyCost\n    });\n\n    // ko.computed to get number of products in our plan\n    self.productCount = ko.computed(function(){\n\n        return self.selectedOptions().length\n    });\n\n    /*\n     *\n     * Showing and Hiding options drawer\n     *\n     */\n\n    // Function to show or hide the selected-options-drawer\n    self.showHideOptionsDrawer = function(){\n        self.showSelectedProductsDrawer(!self.showSelectedProductsDrawer());\n    };\n\n\n    /*\n     *\n     * Initialize the project\n     *\n     */\n\n    // This function bootstraps our page\n    self.init = function(){\n        // Set the top offset of our active area based on the self.defaultIndex;\n        $('.active-card-frame').css({ top: self.defaultIndex * self.cardHeight + 'px' });\n        // Load our products\n        self.loadProducts();\n        // Make our cards draggable\n        $.each(self.columnData, function(index){\n            self.makeCardsDraggable($(self.columnData[index].domElement), self.columnData[index].callback, self.columnData[index].bindingValue);\n        });\n    };\n\n    // Inits the app once the document is ready\n    $(document).ready(function(){\n        self.init();\n    });\n\n\n\n\n    /*\n     *\n     * Return our revealing module\n     *\n     */\n\n    return {\n        products: self.products,\n        productDetails: self.productDetails,\n        activeProduct: self.activeProduct,\n        activeProductIndex: self.activeProductIndex,\n        activeCost: self.activeCost,\n        activeCostIndex: self.activeCostIndex,\n        defaultIndex: self.defaultIndex,\n        setActiveProduct: self.setActiveProduct,\n        costs: self.costs,\n        termMiles: self.termMiles,\n        termMonths: self.termMonths,\n        isSearchingByPrice: self.isSearchingByPrice,\n        addProductWithOptions: self.addProductWithOptions,\n        selectedOptions: self.selectedOptions,\n        showSelectedProductsDrawer: self.showSelectedProductsDrawer,\n        showHideOptionsDrawer: self.showHideOptionsDrawer,\n        removeProductWithOptions: self.removeProductWithOptions,\n        isDragging: self.isDragging,\n        planCost: self.planCost,\n        monthlyCost: self.monthlyCost,\n        productCount: self.productCount,\n        loanTerm: self.loanTerm\n    };\n}\n\n// Activates knockout.js\nko.applyBindings(new AppViewModel(), document.getElementById('commerceProductApp'));\n\n// uat\n// easycareuat\n// U@Testing123\n// APCO-02\n// 4T1BF1FK7GU566533"]}