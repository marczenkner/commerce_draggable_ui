{"version":3,"sources":["js/config.js","js/fetchData.js","js/viewModel.js"],"names":["module","exports","products","url","authToken","tempBodyData","dateOfSale","dealerAccountCode","makeModelInfo","partnerSpecificEligibility","productPlanType","providerCode","vehicleCertification","vehicleIdentificationNumber","vehicleInservice","vehicleOdometer","vehicleUsageTypes","quoteSessionNumber","productCodeFilters","rates","postmanToken","key","value","cacheControl","eligibilitySessionID","productsToRate","PartnerSpecificFields","FlexFields","FieldName","FieldType","FieldValue","ApplicationCode","BaseNoUpgradeProduct","CertificationType","DisplayName","InternalProductId","InternalProductVersionId","InternalRatingProgramId","IsDealerException","IsInserviceRequired","IsNewCoverage","IsVehicleFinancialsRequired","IsWrapCoverage","ParentProductType","ApplicationSubCode","InternalProductTypeId","ParentProductRatingCategory","Abbreviation","PartnerCode","ProfitSettingCategoryName","SettingDependentSubCode","UpgradesInternalProductTypeId","ProductCoverages","CoverageDeductibles","ProductDeductible","InternalDeductibleId","NumericValue","ProductCoverage","Description","InternalCoverageId","IsLWBaseCoverage","ProductTerms","ProductOptions","RateCalculationMethod","SortOrder","UpgradeProducts","vehicleFinancials","AmountFinanced","DMSDealNumber","DaysToFirstPayment","FinancedAPR","FinancedTermMonths","FirstPaymentDate","LenderAddress1","LenderAddress2","LenderCity","LenderCode","LenderEmail","LenderName","LenderPhone","LenderState","LenderZip","MSRP","MoneyFactor","PurchasePrice","StockNumber","VehicleSaleType","vehicleToRate","InternalMakeId","InternalModelId","MakeName","ModelName","ModelYear","VehicleIdentification","getProducts","path","method","contentType","authorization","bodyData","Promise","resolve","reject","fetch","headers","body","JSON","stringify","then","res","json","data","getRatesForProduct","productId","config","require","dataService","AppViewModel","self","defaultIndex","cardHeight","showSelectedProductsDrawer","ko","observable","duration","loanTerm","isSearchingByPrice","isDragging","allDraggables","productsWithDetails","observableArray","activeProductIndex","activeProductRates","activeRateIndex","activeInputIndex","activeCoverage","activeDeductible","vehicleDetails","planCost","productCount","monthlyCost","computed","toFixed","errorMessage","pageBusy","handleProductsWrapperDragged","returnedValue","pop","Rates","makeCardsDraggable","$","columnData","domElement","callback","bindingValue","elementChildrenCount","length","draggableElement","offsetDifference","TweenMax","to","y","handleCostWrapperDragged","handleInputFilledOut","console","log","inputMarginTop","incrementInputIndex","index","formData","isCurrent","decrementInputIndex","inputValue","displayName","isRequired","type","callBack","loadVehicleDetails","isComplete","getProductsForVin","VIN","tempVIN","vehicleApi","ajax","success","result","Results","async","each","Products","isSelected","RatedTerms","i","push","left","elementChildren","children","css","height","snapArray","Array","generateDraggableIndex","value01","value02","Math","abs","round","animateCardLimits","window","animateCardIndex","animateAllCards","addClass","opacity","removeClass","transform","newDraggable","Draggable","create","edgeResistance","throwProps","snap","zIndexBoost","maxDuration","onClick","onDrag","draggableIndex","onThrowUpdate","onThrowComplete","endY","showHideOptionsDrawer","addProductWithRate","generatePlanCostAndProductCount","removeProductWithRate","listenForKeyDown","keydown","event","which","preventDefault","totalPlanCost","productsCount","DealerCost","init","top","document","ready","applyBindings","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,OAAP,GAAiB;AACbC,cAAU;AACNC,aAAK,sHADC;AAENC,mBAAW,2cAFL;AAGNC,sBAAc;AACVC,wBAAY,YADF;AAEVC,+BAAmB,QAFT;AAGVC,2BAAe,IAHL;AAIVC,wCAA4B,CAAC,EAAC,OAAO,cAAR,EAAwB,SAAS,gBAAjC,EAAD,CAJlB;AAKVC,6BAAiB,IALP;AAMVC,0BAAc,UANJ;AAOVC,kCAAsB,MAPZ;AAQVC,yCAA6B,mBARnB;AASVC,8BAAkB,IATR;AAUVC,6BAAiB,MAVP;AAWVC,+BAAmB,CAAC,UAAD,CAXT;AAYVC,gCAAoB,sCAZV;AAaVC,gCAAoB;AAbV;AAHR,KADG;AAoBbC,WAAO;AACHhB,aAAK,2GADF;AAEHC,mBAAW,ykBAFR;AAGHgB,sBAAc;AACVC,iBAAK,eADK;AAEVC,mBAAO;AAFG,SAHX;AAOHC,sBAAc;AACVF,iBAAK,eADK;AAEVC,mBAAO;AAFG,SAPX;;AAaHjB,sBAAc;AACVC,wBAAY,YADF;AAENC,+BAAmB,QAFb;AAGViB,kCAAsB,IAHZ;AAIVf,wCAA4B,EAJlB;AAKVC,6BAAiB,IALP;AAMVe,4BAAgB,CAChB;AACIC,uCAAuB;AACnBC,gCAAY,CACR;AACIC,mCAAW,WADf;AAEIC,mCAAW,CAFf;AAGIC,oCAAY;AAHhB,qBADQ;AADO,iBAD3B;AAUIC,iCAAiB,UAVrB;AAWIC,sCAAsB,IAX1B;AAYIC,mCAAmB,CAZvB;AAaIC,6BAAa,4CAbjB;AAcIC,mCAAmB,UAdvB;AAeIC,0CAA0B,IAf9B;AAgBIC,yCAAyB,IAhB7B;AAiBIC,mCAAmB,KAjBvB;AAkBIC,qCAAqB,KAlBzB;AAmBIC,+BAAe,KAnBnB;AAoBIC,6CAA6B,KApBjC;AAqBIC,gCAAgB,KArBpB;AAsBIC,mCAAmB;AACfjB,2CAAuB;AACnBC,oCAAY;AADO,qBADR;AAIfI,qCAAiB,MAJF;AAKfa,wCAAoB,IALL;AAMfV,iCAAa,IANE;AAOfW,2CAAuB,IAPR;AAQfC,iDAA6B;AACzBpB,+CAAuB;AACnBC,wCAAY,CACR;AACIC,2CAAW,oBADf;AAEIC,2CAAW,CAFf;AAGIC,4CAAY;AAHhB,6BADQ;AADO,yBADE;AAUzBiB,sCAAc,MAVW;AAWzBhB,yCAAiB,MAXQ;AAYzBG,qCAAa;AAZY,qBARd;AAsBfc,iCAAa,MAtBE;AAuBfC,+CAA2B,IAvBZ;AAwBfC,6CAAyB,IAxBV;AAyBfC,mDAA+B;AAzBhB,iBAtBvB;AAiDIH,6BAAa,UAjDjB;AAkDII,kCAAkB,CACd;AACIC,yCAAqB,CACjB;AACIC,2CAAmB;AACf5B,mDAAuB;AACnBC,4CAAY;AADO,6BADR;AAIfoB,0CAAc,KAJC;AAKfb,yCAAa,MALE;AAMfqB,kDAAsB,MANP;AAOfC,0CAAc,CAPC;AAQfR,yCAAa;AARE;AADvB,qBADiB,CADzB;AAeIS,qCAAiB;AACb/B,+CAAuB;AACnBC,wCAAY;AADO,yBADV;AAIboB,sCAAc,cAJD;AAKbW,qCAAa,sBALA;AAMbxB,qCAAa,uBANA;AAObyB,4CAAoB,cAPP;AAQbC,0CAAkB,KARL;AASbJ,sCAAc,CATD;AAUbR,qCAAa;AAVA,qBAfrB;AA2BIa,kCAAc;AA3BlB,iBADc,CAlDtB;AAiFIC,gCAAgB,EAjFpB;AAkFIC,uCAAuB,CAlF3B;AAmFIC,2BAAW,GAnFf;AAoFIC,iCAAiB;AApFrB,aADgB,CANN;AA8FVtD,0BAAc,UA9FJ;AA+FVC,kCAAsB,MA/FZ;AAgGVsD,+BAAmB;AACnBC,gCAAgB,CADG;AAEfC,+BAAe,EAFA;AAGfC,oCAAoB,CAHL;AAIfC,6BAAa,CAJE;AAKfC,oCAAoB,CALL;AAMfC,kCAAkB,EANH;AAOfC,gCAAgB,IAPD;AAQfC,gCAAgB,IARD;AASfC,4BAAY,IATG;AAUfC,4BAAY,IAVG;AAWfC,6BAAa,IAXE;AAYfC,4BAAY,IAZG;AAafC,6BAAa,IAbE;AAcfC,6BAAa,IAdE;AAefC,2BAAW,IAfI;AAgBfC,sBAAM,CAhBS;AAiBfC,6BAAa,CAjBE;AAkBfC,+BAAe,CAlBA;AAmBfC,6BAAa,EAnBE;AAoBfC,iCAAiB;AApBF,aAhGT;AAsHVxE,8BAAkB,IAtHR;AAuHNC,6BAAiB,MAvHX;AAwHVwE,2BAAe;AACfC,gCAAgB,MADD;AAEXC,iCAAiB,YAFN;AAGXC,0BAAU,EAHC;AAIXC,2BAAW,IAJA;AAKXC,2BAAW,IALA;AAMXC,uCAAuB;AANZ,aAxHL;AAgIV7E,+BAAmB,CACf,UADe,CAhIT;AAmINC,gCAAoB;AAnId;AAbX;AApBM,CAAjB;;ACAAjB,OAAOC,OAAP,GAAiB;AACb6F,iBAAa,qBAASC,IAAT,EAAeC,MAAf,EAAuBC,WAAvB,EAAoCC,aAApC,EAAmDC,QAAnD,EAA4D;AACrE;AACA,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,kBAAMR,IAAN,EAAY;AACRS,yBAAS;AACL,oCAAgBP,WADX;AAEL,qCAAiBC;AAFZ,iBADD;AAKRO,sBAAMC,KAAKC,SAAL,CAAeR,QAAf,CALE;AAMRH,wBAAQA;;AANA,aAAZ,EASKY,IATL,CASU;AAAA,uBAAOC,IAAIC,IAAJ,EAAP;AAAA,aATV,EAUKF,IAVL,CAUU,UAACG,IAAD,EAAU;AACZV,wBAAQU,IAAR;AACH,aAZL;AAaH,SAdM,CAAP;AAeH,KAlBY;AAmBbC,wBAAoB,4BAASjB,IAAT,EAAeC,MAAf,EAAuBC,WAAvB,EAAoCC,aAApC,EAAmD3E,YAAnD,EAAiEH,YAAjE,EAA+E+E,QAA/E,EAAyFc,SAAzF,EAAmG;AACnH;AACA,eAAO,IAAIb,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,kBAAMR,IAAN,EAAY;AACJS,yBAAS;AACL,oCAAgBP,WADX;AAEL,qCAAiBC,aAFZ;AAGL,qCAAiB3E;AACjB;AAJK,iBADL;AAOJkF,sBAAMC,KAAKC,SAAL,CAAeR,QAAf,CAPF;AAQJH,wBAAQA;AARJ,aAAZ,EAUKY,IAVL,CAUU;AAAA,uBAAOC,IAAIC,IAAJ,EAAP;AAAA,aAVV,EAWKF,IAXL,CAWU,UAACG,IAAD,EAAS;AACXV,wBAAQU,IAAR;AACH,aAbL;AAcH,SAfM,CAAP;AAgBH;AArCY,CAAjB;;ACAA,IAAMG,SAASC,QAAQ,aAAR,CAAf;AACA,IAAMC,cAAcD,QAAQ,gBAAR,CAApB;;AAEA,SAASE,YAAT,GAAwB;;AAEpB,QAAIC,OAAO,IAAX;;AAEA;AACAA,SAAKC,YAAL,GAAoB,CAApB;AACAD,SAAKE,UAAL,GAAkB,GAAlB;AACAF,SAAKG,0BAAL,GAAkCC,GAAGC,UAAH,CAAc,KAAd,CAAlC;;AAEA;AACA,QAAIC,WAAW,IAAf;;AAEA;AACAN,SAAKO,QAAL,GAAgBH,GAAGC,UAAH,CAAc,EAAd,CAAhB;;AAEA;AACAL,SAAKQ,kBAAL,GAA0B,IAA1B;;AAEA;AACAR,SAAKS,UAAL,GAAkBL,GAAGC,UAAH,CAAc,KAAd,CAAlB;;AAEA;AACAL,SAAKU,aAAL,GAAqB,EAArB;;AAEA;AACAV,SAAKW,mBAAL,GAA2BP,GAAGQ,eAAH,EAA3B;;AAEA;AACAZ,SAAKa,kBAAL,GAA0BT,GAAGC,UAAH,CAAcL,KAAKC,YAAnB,CAA1B;AACAD,SAAKc,kBAAL,GAA0BV,GAAGQ,eAAH,EAA1B;AACAZ,SAAKe,eAAL,GAAuBX,GAAGC,UAAH,CAAcL,KAAKC,YAAnB,CAAvB;AACAD,SAAKgB,gBAAL,GAAwBZ,GAAGC,UAAH,CAAc,CAAd,CAAxB;;AAEA;AACAL,SAAKiB,cAAL,GAAsBb,GAAGC,UAAH,EAAtB;AACAL,SAAKkB,gBAAL,GAAwBd,GAAGC,UAAH,EAAxB;;AAEAL,SAAKmB,cAAL,GAAsBf,GAAGC,UAAH,EAAtB;;AAEAL,SAAKoB,QAAL,GAAgBhB,GAAGC,UAAH,CAAc,CAAd,CAAhB;AACAL,SAAKqB,YAAL,GAAoBjB,GAAGC,UAAH,CAAc,CAAd,CAApB;AACAL,SAAKsB,WAAL,GAAmBlB,GAAGmB,QAAH,CAAY,YAAU;AACrC,eAAO,CAACvB,KAAKoB,QAAL,KAAkBpB,KAAKO,QAAL,EAAnB,EAAoCiB,OAApC,CAA4C,CAA5C,CAAP;AACH,KAFkB,CAAnB;;AAIA;AACAxB,SAAKyB,YAAL,GAAoBrB,GAAGC,UAAH,CAAc,EAAd,CAApB;AACAL,SAAK0B,QAAL,GAAgBtB,GAAGC,UAAH,CAAc,KAAd,CAAhB;;AAEA;;;;;AAKA;AACAL,SAAK2B,4BAAL,GAAoC,UAASC,aAAT,EAAuB;;AAEvD;AACA5B,aAAKU,aAAL,CAAmBmB,GAAnB;;AAEA;AACA7B,aAAKc,kBAAL,CAAwBd,KAAKW,mBAAL,GAA2BX,KAAKa,kBAAL,EAA3B,EAAsDiB,KAA9E;;AAEA;AACA9B,aAAK+B,kBAAL,CAAwBC,EAAEhC,KAAKiC,UAAL,CAAgB,CAAhB,EAAmBC,UAArB,CAAxB,EAA0DlC,KAAKiC,UAAL,CAAgB,CAAhB,EAAmBE,QAA7E,EAAuFnC,KAAKiC,UAAL,CAAgB,CAAhB,EAAmBG,YAA1G;;AAEA;AACA;AACA;;AAEA;AACA,YAAIC,uBAAuBrC,KAAKc,kBAAL,GAA0BwB,MAArD;AAAA,YACIC,mBAAmBP,EAAEhC,KAAKiC,UAAL,CAAgB,CAAhB,EAAmBC,UAArB,CADvB;;AAGA;AACA,YAAGG,uBAAwBrC,KAAKC,YAAL,GAAoB,CAA/C,EAAkD;;AAE9C,gBAAIuC,mBAAoBxC,KAAKC,YAAN,GAAsBoC,oBAA7C;AACAI,qBAASC,EAAT,CAAYH,gBAAZ,EAA8BjC,QAA9B,EAAwC;AACpCqC,mBAAG,CAACH,mBAAmB,CAApB,IAAyBxC,KAAKE;AADG,aAAxC;AAGH,SAND,MAMO;AACHuC,qBAASC,EAAT,CAAYH,gBAAZ,EAA8BjC,QAA9B,EAAwC;AACpCqC,mBAAG;AADiC,aAAxC;AAGH;AACJ,KA/BD;;AAiCA3C,SAAK4C,wBAAL,GAAgC,UAAShB,aAAT,EAAuB;AACnD;AACA5B,aAAKe,eAAL,CAAqBa,aAArB;AACH,KAHD;;AAKA5B,SAAK6C,oBAAL,GAA4B,YAAU;AAClCC,gBAAQC,GAAR,CAAY,sBAAZ;AACH,KAFD;;AAIA/C,SAAKgD,cAAL,GAAsB5C,GAAGC,UAAH,CAAc,CAAd,CAAtB;;AAEAL,SAAKiD,mBAAL,GAA2B,UAASxD,IAAT,EAAc;AACrC,YAAIA,KAAKyD,KAAL,GAAalD,KAAKmD,QAAL,CAAcb,MAAd,GAAsB,CAAvC,EAA2C;AACvC7C,iBAAK2D,SAAL,CAAe,KAAf;AACApD,iBAAKmD,QAAL,CAAc1D,KAAKyD,KAAL,GAAa,CAA3B,EAA8BE,SAA9B,CAAwC,IAAxC;AACApD,iBAAKgB,gBAAL,CAAsBvB,KAAKyD,KAAL,GAAa,CAAnC;AACAlD,iBAAKgD,cAAL,CAAqB,EAAKhD,KAAKgB,gBAAL,EAAD,GAA4BhB,KAAKE,UAAlC,GAAiDF,KAAKE,UAAL,GAAkBF,KAAKC,YAA3E,CAArB;AACH;AACD;AACH,KARD;;AAUAD,SAAKqD,mBAAL,GAA2B,UAAS5D,IAAT,EAAc;AACrC,YAAIA,KAAKyD,KAAL,GAAa,CAAjB,EAAqB;AACjBzD,iBAAK2D,SAAL,CAAe,KAAf;AACApD,iBAAKmD,QAAL,CAAc1D,KAAKyD,KAAL,GAAa,CAA3B,EAA8BE,SAA9B,CAAwC,IAAxC;AACApD,iBAAKgB,gBAAL,CAAsBvB,KAAKyD,KAAL,GAAa,CAAnC;AACAlD,iBAAKgD,cAAL,CAAqB,EAAKhD,KAAKgB,gBAAL,EAAD,GAA4BhB,KAAKE,UAAlC,GAAiDF,KAAKE,UAAL,GAAkBF,KAAKC,YAA3E,CAArB;AACH;AACD;AACH,KARD;;AAUA;;;;;;AAMA;AACAD,SAAKiC,UAAL,GAAkB,CACd;AACIiB,eAAO,CADX;AAEIhB,oBAAY,mBAFhB;AAGIC,kBAAUnC,KAAK2B,4BAHnB;AAIIS,sBAAcpC,KAAKa;AAJvB,KADc,EAOd;AACIqC,eAAO,CADX;AAEIhB,oBAAY,eAFhB;AAGIC,kBAAUnC,KAAK4C,wBAHnB;AAIIR,sBAAcpC,KAAKe;AAJvB,KAPc,CAAlB;;AAeAf,SAAKmD,QAAL,GAAgB,CACZ;AACID,eAAO,CADX;AAEII,oBAAY,YAFhB;AAGIC,qBAAa,YAHjB;AAIIC,oBAAY,IAJhB;AAKIC,cAAM,MALV;AAMIC,kBAAU,oBAAU;AAChB1D,iBAAK2D,kBAAL,CAAwB,KAAK3J,KAAL,EAAxB;AACH,SARL;AASIA,eAAOoG,GAAGC,UAAH,EATX;AAUI+C,mBAAWhD,GAAGC,UAAH,CAAc,IAAd,CAVf;AAWIuD,oBAAYxD,GAAGC,UAAH,CAAc,KAAd;;AAXhB,KADY,EAeZ;AACI6C,eAAO,CADX;AAEII,oBAAY,eAFhB;AAGIC,qBAAa,gBAHjB;AAIIC,oBAAY,IAJhB;AAKIC,cAAM,MALV;AAMIC,kBAAU,KANd;AAOI1J,eAAOoG,GAAGC,UAAH,EAPX;AAQI+C,mBAAWhD,GAAGC,UAAH,CAAc,KAAd,CARf;AASIuD,oBAAYxD,GAAGC,UAAH,CAAc,KAAd;;AAThB,KAfY,EA2BZ;AACI6C,eAAO,CADX;AAEII,oBAAY,cAFhB;AAGIC,qBAAa,eAHjB;AAIIC,oBAAY,IAJhB;AAKIC,cAAM,MALV;AAMIC,kBAAU,KANd;AAOI1J,eAAOoG,GAAGC,UAAH,EAPX;AAQI+C,mBAAWhD,GAAGC,UAAH,CAAc,KAAd,CARf;AASIuD,oBAAYxD,GAAGC,UAAH,CAAc,KAAd;;AAThB,KA3BY,EAuCZ;AACI6C,eAAO,CADX;AAEII,oBAAY,QAFhB;AAGIC,qBAAa,EAHjB;AAIIC,oBAAY,IAJhB;AAKIC,cAAM,QALV;AAMIC,kBAAU,oBAAU;AAChB1D,iBAAK6D,iBAAL,CAAuB7D,KAAKmD,QAAL,CAAc,CAAd,EAAiBnJ,KAAjB,EAAvB;AACH,SARL;AASIA,eAAO,IATX;AAUIoJ,mBAAWhD,GAAGC,UAAH,CAAc,KAAd,CAVf;AAWIuD,oBAAYxD,GAAGC,UAAH,CAAc,KAAd;;AAXhB,KAvCY,CAAhB;;AAwDA;;;;;;AAMA;AACAL,SAAK2D,kBAAL,GAA0B,UAASG,GAAT,EAAa;;AAEnChB,gBAAQC,GAAR,CAAYe,GAAZ;;AAEA,YAAIC,UAAU,kBAAd;;AAEA,YAAGD,GAAH,EAAQ;AACJ,gBAAIE,aAAa,uDAAuDF,GAAvD,GAA6D,cAA9E;;AAEA9B,cAAEiC,IAAF,CAAO,EAACpL,KAAKmL,UAAN;AACHE,yBAAS,iBAASC,MAAT,EAAgB;AACrBnE,yBAAKmB,cAAL,CAAoBgD,OAAOC,OAA3B;AACH,iBAHE;AAIHC,uBAAO,IAJJ,EAAP;;AAMA;AACH;AACJ,KAjBD;;AAmBA;AACArE,SAAK6D,iBAAL,GAAyB,UAASC,GAAT,EAAa;;AAElC;AACA9D,aAAK0B,QAAL,CAAc,IAAd;;AAEA;AACA1B,aAAKW,mBAAL,CAAyB,EAAzB;;AAEA;AACA,YAAMlC,OAAOmB,OAAOhH,QAAP,CAAgBC,GAA7B;AACA,YAAM6F,SAAS,MAAf;AACA,YAAMC,cAAc,kBAApB;AACA,YAAMC,gBAAgBgB,OAAOhH,QAAP,CAAgBE,SAAtC;AACA,YAAM+F,WAAWe,OAAOhH,QAAP,CAAgBG,YAAjC;;AAEA;AACA,YAAG+K,GAAH,EAAO;AACHjF,qBAAStF,2BAAT,GAAuCuK,GAAvC;AACH;;AAED;AACAhE,oBAAYtB,WAAZ,CAAwBC,IAAxB,EAA8BC,MAA9B,EAAsCC,WAAtC,EAAmDC,aAAnD,EAAkEC,QAAlE,EACKS,IADL,CACU,UAASG,IAAT,EAAc;;AAEhBuC,cAAEsC,IAAF,CAAO7E,KAAK8E,QAAZ,EAAsB,UAACrB,KAAD,EAAS;AAC3BzD,qBAAK8E,QAAL,CAAcrB,KAAd,EAAqBsB,UAArB,GAAkCpE,GAAGC,UAAH,CAAc,KAAd,CAAlC;AACAZ,qBAAK8E,QAAL,CAAcrB,KAAd,EAAqBpB,KAArB,GAA6B,EAA7B;;AAEA;AACA,oBAAMrD,OAAOmB,OAAO/F,KAAP,CAAahB,GAA1B;AACA,oBAAM6F,SAAS,MAAf;AACA,oBAAMC,cAAc,kBAApB;AACA,oBAAMC,gBAAgBgB,OAAO/F,KAAP,CAAaf,SAAnC;AACA,oBAAM+F,WAAWe,OAAO/F,KAAP,CAAad,YAA9B;;AAEA8F,yBAAS1E,cAAT,CAAwB,CAAxB,EAA2BU,iBAA3B,GAA+C4E,KAAK8E,QAAL,CAAcrB,KAAd,EAAqBrI,iBAApE;AACAgE,yBAAS1E,cAAT,CAAwB,CAAxB,EAA2BM,eAA3B,GAA6CgF,KAAK8E,QAAL,CAAcrB,KAAd,EAAqBrI,iBAAlE;;AAEA,oBAAMZ,eAAe,UAArB;AACA,oBAAMH,eAAe,sCAArB;;AAEA;AACAgG,4BAAYJ,kBAAZ,CAA+BjB,IAA/B,EAAqCC,MAArC,EAA6CC,WAA7C,EAA0DC,aAA1D,EAAyE3E,YAAzE,EAAuFH,YAAvF,EAAqG+E,QAArG,EAA+GY,KAAK8E,QAAL,CAAcrB,KAAd,EAAqBrI,iBAApI,EACKyE,IADL,CACU,UAASzF,KAAT,EAAe;AACjB;AACA;AACAmI,sBAAEsC,IAAF,CAAOzK,MAAMiI,KAAN,CAAY,CAAZ,EAAe2C,UAAtB,EAAkC,UAASC,CAAT,EAAW;AACzC7K,8BAAMiI,KAAN,CAAY,CAAZ,EAAe2C,UAAf,CAA0BC,CAA1B,EAA6BF,UAA7B,GAA0CpE,GAAGC,UAAH,CAAc,KAAd,CAA1C;AACAZ,6BAAK8E,QAAL,CAAcrB,KAAd,EAAqBpB,KAArB,CAA2B6C,IAA3B,CAAgC9K,MAAMiI,KAAN,CAAY,CAAZ,EAAe2C,UAAf,CAA0BC,CAA1B,CAAhC;AACH,qBAHD;AAIA;AACH,iBATL;;AAWA;AACA1E,qBAAKW,mBAAL,CAAyBgE,IAAzB,CAA8BlF,KAAK8E,QAAL,CAAcrB,KAAd,CAA9B;AACH,aA/BD;;AAiCA;AACAlD,iBAAKc,kBAAL,CAAwBd,KAAKW,mBAAL,GAA2BX,KAAKa,kBAAL,EAA3B,EAAsDiB,KAA9E;AACA;AACA;;AAEA;AACAE,cAAEsC,IAAF,CAAOtE,KAAKiC,UAAZ,EAAwB,UAASiB,KAAT,EAAe;AACnClD,qBAAK+B,kBAAL,CAAwBC,EAAEhC,KAAKiC,UAAL,CAAgBiB,KAAhB,EAAuBhB,UAAzB,CAAxB,EAA8DlC,KAAKiC,UAAL,CAAgBiB,KAAhB,EAAuBf,QAArF,EAA+FnC,KAAKiC,UAAL,CAAgBiB,KAAhB,EAAuBd,YAAtH;AACH,aAFD;;AAIA;AACApC,iBAAK0B,QAAL,CAAc,KAAd;AAEH,SAjDL;;AAmDAoB,gBAAQC,GAAR,CAAY/C,KAAKW,mBAAL,EAAZ;;AAEA;AACA8B,iBAASC,EAAT,CAAY,aAAZ,EAA2BpC,QAA3B,EAAqC;AACjCsE,kBAAM;AAD2B,SAArC;AAGAnC,iBAASC,EAAT,CAAY,gBAAZ,EAA8BpC,QAA9B,EAAwC;AACpCsE,kBAAM;AAD8B,SAAxC;AAGH,KAjFD;;AAoFA;AACA5E,SAAK+B,kBAAL,GAA0B,UAASQ,gBAAT,EAA2BmB,QAA3B,EAAqCtB,YAArC,EAAkD;;AAExE;AACA,YAAIyC,kBAAkB7C,EAAEO,gBAAF,EAAoBuC,QAApB,EAAtB;AAAA,YACIzC,uBAAuBL,EAAE6C,eAAF,EAAmBvC,MAD9C;;AAGA;AACAN,UAAE6C,eAAF,EAAmBE,GAAnB,CAAuB,EAAEC,QAAQhF,KAAKE,UAAL,GAAkB,IAA5B,EAAvB;AACA;AACA8B,UAAE,oBAAF,EAAwB+C,GAAxB,CAA4B,EAAEC,QAAQhF,KAAKE,UAAL,GAAkB,IAA5B,EAA5B;;AAEA;AACA,YAAI+E,YAAY,IAAIC,KAAJ,EAAhB;AACA,aAAI,IAAIR,IAAI,CAAC1E,KAAKC,YAAlB,EAAgCyE,IAAIrC,uBAAuBrC,KAAKC,YAAhE,EAA8EyE,GAA9E,EAAkF;AAC9EO,sBAAUN,IAAV,CAAgB,EAAED,IAAI1E,KAAKE,UAAX,CAAhB;AACH;;AAED;AACA,YAAGmC,uBAAwBrC,KAAKC,YAAL,GAAoB,CAA/C,EAAkD;;AAE9C,gBAAIuC,mBAAoBxC,KAAKC,YAAN,GAAsBoC,oBAA7C;AACAI,qBAASC,EAAT,CAAYH,gBAAZ,EAA8BjC,QAA9B,EAAwC;AACpCqC,mBAAG,CAACH,mBAAmB,CAApB,IAAyBxC,KAAKE;AADG,aAAxC;AAGH,SAND,MAMO;AACHuC,qBAASC,EAAT,CAAYH,gBAAZ,EAA8BjC,QAA9B,EAAwC;AACpCqC,mBAAG;AADiC,aAAxC;AAGH;;AAED;AACA,YAAIwC,yBAAyB,SAAzBA,sBAAyB,CAASC,OAAT,EAAkBC,OAAlB,EAA0B;AACnD,mBAAOC,KAAKC,GAAL,CAASD,KAAKE,KAAL,CAAYJ,UAAQC,OAApB,IAAgCrF,KAAKC,YAA9C,CAAP;AACH,SAFD;;AAIA;AACA,YAAIoC,wBAAwB,CAA5B,EAA8B;AAC1BD,yBAAa,CAAb;AACH,SAFD,MAEO,IAAKC,wBAAwB,CAA7B,EAAiC;AACpCD,yBAAa,CAAb;AACH,SAFM,MAEA;AACHA,yBAAapC,KAAKC,YAAlB;AACH;;AAED;AACA,YAAIwF,oBAAoBH,KAAKE,KAAL,CAAWxD,EAAE0D,MAAF,EAAUV,MAAV,KAAmBhF,KAAKE,UAAnC,CAAxB;AAAA,YACIyF,mBAAmBF,iBADvB;;AAGIA,4BAAoBA,kBAAkBjE,OAAlB,CAA0B,CAA1B,CAApB;;AAEJ,YAAIoE,kBAAkB,SAAlBA,eAAkB,CAASd,QAAT,EAAmB5B,KAAnB,EAAyB;;AAE3ClB,cAAEsC,IAAF,CAAOQ,QAAP,EAAiB,UAASJ,CAAT,EAAW;;AAExB,oBAAIA,MAAMxB,KAAV,EAAiB;AACblB,sBAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,GAAiCe,QAAjC,CAA0C,gBAA1C;AACApD,6BAASC,EAAT,CAAYV,EAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,EAAZ,EAA8CxE,QAA9C,EAAwD;AACpDwF,iCAAS;AACT;AAFoD,qBAAxD;AAIH,iBAND,MAMO,IAAIpB,MAAMxB,QAAQ,CAAd,IAAmBwB,MAAMxB,QAAQ,CAArC,EAAuC;AAC1ClB,sBAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,GAAiCiB,WAAjC,CAA6C,gBAA7C;AACAtD,6BAASC,EAAT,CAAYV,EAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,EAAZ,EAA8CxE,QAA9C,EAAwD;AACpDwF,iCAAS;AACT;AAFoD,qBAAxD;AAIH,iBANM,MAMA,IAAIpB,MAAMxB,QAAQ,CAAd,IAAmBwB,MAAMxB,QAAQ,CAArC,EAAuC;AAC1ClB,sBAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,GAAiCiB,WAAjC,CAA6C,gBAA7C;AACAtD,6BAASC,EAAT,CAAYV,EAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,EAAZ,EAA8CxE,QAA9C,EAAwD;AACpDwF,iCAAS;AACT;AAFoD,qBAAxD;AAIH,iBANM,MAMA,IAAIpB,MAAMxB,QAAQ,CAAd,IAAmBwB,MAAMxB,QAAQ,CAArC,EAAuC;AAC1ClB,sBAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,GAAiCiB,WAAjC,CAA6C,gBAA7C;AACAtD,6BAASC,EAAT,CAAYV,EAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,EAAZ,EAA8CxE,QAA9C,EAAwD;AACpDwF,iCAAS;AACT;AAFoD,qBAAxD;AAIH,iBANM,MAMA,IAAIpB,MAAMxB,QAAQ,CAAd,IAAmBwB,MAAMxB,QAAQ,CAArC,EAAuC;AAC1ClB,sBAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,GAAiCiB,WAAjC,CAA6C,gBAA7C;AACAtD,6BAASC,EAAT,CAAYV,EAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,EAAZ,EAA8CxE,QAA9C,EAAwD;AACpDwF,iCAAS;AACT;AAFoD,qBAAxD;AAIH,iBANM,MAMA,IAAIpB,IAAIxB,QAAQ,CAAZ,IAAiBwB,IAAIxB,QAAQ,CAAjC,EAAoC;AACvClB,sBAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,GAAiCiB,WAAjC,CAA6C,gBAA7C;AACAtD,6BAASC,EAAT,CAAYV,EAAE6C,gBAAgBH,CAAhB,CAAF,EAAsBI,QAAtB,EAAZ,EAA8CxE,QAA9C,EAAwD;AACpDwF,iCAAS;AAD2C,qBAAxD;AAGH;AAEJ,aAvCD;AAwCH,SA1CD;;AA6CA;AACAF,wBAAgBf,eAAhB,EAAiC7E,KAAKC,YAAtC;;AAEA;AACA,YAAIoC,wBAAwBrC,KAAKC,YAAjC,EAA+C;AAC3C,gBAAIoC,wBAAwB,CAAxB,IAA6BA,wBAAyBrC,KAAKC,YAA/D,EAA6E;AACzE+B,kBAAE6C,gBAAgB,CAAhB,CAAF,EAAsBC,QAAtB,CAA+B,eAA/B,EAAgDe,QAAhD,CAAyD,gBAAzD;AACApD,yBAASC,EAAT,CAAYV,EAAE6C,gBAAgB,CAAhB,CAAF,EAAsBC,QAAtB,CAA+B,eAA/B,CAAZ,EAA6DxE,QAA7D,EAAuE;AACnEwF,6BAAS,CAD0D;AAEnEE,+BAAW;AAFwD,iBAAvE;AAIH;AACJ;;AAED;AACA,YAAIC,eAAeC,UAAUC,MAAV,CAAiB5D,gBAAjB,EAAmC;AAClDkB,kBAAM,GAD4C;AAElD2C,4BAAgB,IAFkC;AAGlDC,wBAAW,IAHuC;AAIlDC,kBAAMrB,SAJ4C;AAKlDsB,yBAAa,KALqC;AAMlDC,yBAAalG,QANqC;AAOlDmG,qBAAS,mBAAU;AACfzG,qBAAKS,UAAL,CAAgB,IAAhB;AACH,aATiD;AAUlDiG,oBAAQ,kBAAU;AACd,oBAAIC,iBAAiBxB,uBAAuB,KAAKxC,CAA5B,EAA+B3C,KAAKE,UAApC,CAArB;AACA0F,gCAAgBf,eAAhB,EAAiC8B,cAAjC;AACA3G,qBAAKS,UAAL,CAAgB,IAAhB;AACH,aAdiD;AAelDmG,2BAAe,yBAAU;AACrB,oBAAID,iBAAiBxB,uBAAuB,KAAKxC,CAA5B,EAA+B3C,KAAKE,UAApC,CAArB;AACA0F,gCAAgBf,eAAhB,EAAiC8B,cAAjC;AACA3G,qBAAKS,UAAL,CAAgB,IAAhB;AACH,aAnBiD;AAoBlDoG,6BAAiB,2BAAU;AACvBzE,6BAAakD,KAAKC,GAAL,CAASD,KAAKE,KAAL,CAAW,KAAKsB,IAAL,GAAY9G,KAAKE,UAA5B,IAA0CF,KAAKC,YAAxD,CAAb;AACAyD,yBAAS4B,KAAKC,GAAL,CAASD,KAAKE,KAAL,CAAW,KAAKsB,IAAL,GAAY9G,KAAKE,UAA5B,IAA0CF,KAAKC,YAAxD,CAAT;AACAD,qBAAKS,UAAL,CAAgB,KAAhB;AACH;AAxBiD,SAAnC,CAAnB;;AA2BA;AACAT,aAAKU,aAAL,CAAmBiE,IAAnB,CAAwBsB,YAAxB;AACH,KA3ID;;AA8IA;;;;;;AAMA;AACAjG,SAAK+G,qBAAL,GAA6B,YAAU;AACnC/G,aAAKG,0BAAL,CAAgC,CAACH,KAAKG,0BAAL,EAAjC;AACH,KAFD;;AAIA;;;;;;AAMA;AACAH,SAAKgH,kBAAL,GAA0B,UAASvH,IAAT,EAAc;;AAEpC;AACAO,aAAKW,mBAAL,GAA2BX,KAAKa,kBAAL,EAA3B,EAAsD2D,UAAtD,CAAiE,IAAjE;;AAEA;AACA,YAAI3K,QAAQmG,KAAKW,mBAAL,GAA2BX,KAAKa,kBAAL,EAA3B,EAAsDiB,KAAlE;AACAE,UAAEsC,IAAF,CAAOzK,KAAP,EAAc,UAASqJ,KAAT,EAAe;AACzBrJ,kBAAMqJ,KAAN,EAAasB,UAAb,CAAwB,KAAxB;AACH,SAFD;AAGA;AACA3K,cAAMmG,KAAKe,eAAL,EAAN,EAA8ByD,UAA9B,CAAyC,IAAzC;AACA;AACAxE,aAAKiH,+BAAL;AACH,KAdD;;AAgBA;AACAjH,SAAKkH,qBAAL,GAA6B,UAAShE,KAAT,EAAgBzD,IAAhB,EAAqB;AAC9C;AACAO,aAAKW,mBAAL,GAA2BuC,OAA3B,EAAoCsB,UAApC,CAA+C,KAA/C;;AAEA;AACA,YAAI3K,QAAQmG,KAAKW,mBAAL,GAA2BuC,OAA3B,EAAoCpB,KAAhD;AACAE,UAAEsC,IAAF,CAAOzK,KAAP,EAAc,UAASqJ,KAAT,EAAe;AACzBrJ,kBAAMqJ,KAAN,EAAasB,UAAb,CAAwB,KAAxB;AACH,SAFD;AAGA;AACAxE,aAAKiH,+BAAL;AACH,KAXD;;AAaA;AACAjH,SAAKmH,gBAAL,GAAwB,YAAU;AAC9BnF,UAAG,qBAAH,EAA2BoF,OAA3B,CAAmC,UAASC,KAAT,EAAgB;;AAE/C,oBAASA,MAAMC,KAAf;;AAEI;AACA,qBAAK,CAAL;AACID,0BAAME,cAAN;AACAvH,yBAAKiD,mBAAL,CAA0BjD,KAAKmD,QAAL,CAAcnD,KAAKgB,gBAAL,EAAd,CAA1B;AACA;AANR;AAQH,SAVD;AAWH,KAZD;;AAeA;;;;;;AAMAhB,SAAKiH,+BAAL,GAAuC,YAAU;AAC7C,YAAIO,gBAAgB,CAApB;AACA,YAAIC,gBAAgB,CAApB;AACAzF,UAAEsC,IAAF,CAAOtE,KAAKW,mBAAL,EAAP,EAAmC,UAASuC,KAAT,EAAe;AAC9C,gBAAGlD,KAAKW,mBAAL,GAA2BuC,KAA3B,EAAkCsB,UAAlC,EAAH,EAAkD;AAC9CiD;AACAzF,kBAAEsC,IAAF,CAAOtE,KAAKW,mBAAL,GAA2BuC,KAA3B,EAAkCpB,KAAlC,CAAwC,CAAxC,EAA2C2C,UAAlD,EAA8D,UAASC,CAAT,EAAW;AACrE,wBAAG1E,KAAKW,mBAAL,GAA2BuC,KAA3B,EAAkCpB,KAAlC,CAAwC,CAAxC,EAA2C2C,UAA3C,CAAsDC,CAAtD,EAAyDF,UAAzD,EAAH,EAAyE;AACrEgD,yCAAiBxH,KAAKW,mBAAL,GAA2BuC,KAA3B,EAAkCpB,KAAlC,CAAwC,CAAxC,EAA2C2C,UAA3C,CAAsDC,CAAtD,EAAyDgD,UAA1E;AACH;AACJ,iBAJD;AAKH;AACJ,SATD;AAUA1H,aAAKoB,QAAL,CAAcoG,aAAd;AACAxH,aAAKqB,YAAL,CAAkBoG,aAAlB;AACH,KAfD;;AAkBA;;;;;;AAMA;AACAzH,SAAK2H,IAAL,GAAY,YAAU;AAClB;AACA3F,UAAE,oBAAF,EAAwB+C,GAAxB,CAA4B,EAAE6C,KAAK5H,KAAKC,YAAL,GAAoBD,KAAKE,UAAzB,GAAsC,IAA7C,EAA5B;AACA;AACA8B,UAAE,cAAF,EAAkB+C,GAAlB,CAAsB,EAAE6C,KAAO5H,KAAKC,YAAL,GAAoBD,KAAKE,UAA1B,GAAwCF,KAAKE,UAAL,GAAgB,CAAzD,GAA8D,EAA9D,GAAmE,IAA1E,EAAtB;AACA;AACA8B,UAAE,UAAF,EAAc+C,GAAd,CAAkB,EAAE6C,KAAM,CAAC5H,KAAKC,YAAL,GAAoB,CAArB,IAA2BD,KAAKE,UAAjC,GAA+C,IAAtD,EAAlB;AACA;AACAF,aAAKmH,gBAAL;AACA;AACAnH,aAAKgD,cAAL,CAAqB,EAAKhD,KAAKgB,gBAAL,EAAD,GAA4BhB,KAAKE,UAAlC,GAAiDF,KAAKE,UAAL,GAAkBF,KAAKC,YAA3E,CAArB;AACH,KAXD;;AAaA;AACA+B,MAAE6F,QAAF,EAAYC,KAAZ,CAAkB,YAAU;AACxB9H,aAAK2H,IAAL;AACH,KAFD;;AAOA;;;;;;AAMA,WAAO;AACH;AACAlG,sBAAczB,KAAKyB,YAFhB;AAGHC,kBAAU1B,KAAK0B,QAHZ;;AAKH;AACAV,0BAAkBhB,KAAKgB,gBANpB;AAOHgC,wBAAgBhD,KAAKgD,cAPlB;AAQHC,6BAAqBjD,KAAKiD,mBARvB;AASHI,6BAAqBrD,KAAKqD,mBATvB;AAUHlC,wBAAgBnB,KAAKmB,cAVlB;AAWHgC,kBAAUnD,KAAKmD,QAXZ;;AAaH;AACA3C,4BAAoBR,KAAKQ,kBAdtB;AAeHG,6BAAqBX,KAAKW,mBAfvB;AAgBHE,4BAAoBb,KAAKa,kBAhBtB;AAiBHC,4BAAoBd,KAAKc,kBAjBtB;AAkBHL,oBAAYT,KAAKS,UAlBd;;AAoBH;AACAW,kBAAUpB,KAAKoB,QArBZ;AAsBHE,qBAAatB,KAAKsB,WAtBf;AAuBHD,sBAAcrB,KAAKqB,YAvBhB;AAwBHd,kBAAUP,KAAKO,QAxBZ;AAyBHwG,+BAAuB/G,KAAK+G,qBAzBzB;AA0BH5G,oCAA4BH,KAAKG,0BA1B9B;AA2BH6G,4BAAoBhH,KAAKgH,kBA3BtB;AA4BHE,+BAAuBlH,KAAKkH,qBA5BzB;AA6BHjG,wBAAgBjB,KAAKiB,cA7BlB;AA8BHC,0BAAkBlB,KAAKkB;;AA9BpB,KAAP;AAiCH;;AAED;AACAd,GAAG2H,aAAH,CAAiB,IAAIhI,YAAJ,EAAjB,EAAqC8H,SAASG,cAAT,CAAwB,oBAAxB,CAArC;;AAEA;AACA;AACA;AACA;AACA","file":"viewModel.45392886.map","sourceRoot":"..","sourcesContent":["module.exports = {\n    products: {\n        url: 'https://tlcsvcapi.uat.taillight.xyz/RSS.SPAN.BusinessServices/restvehicleproductsvc.svc/RetrieveVehicleProductsByVIN',\n        authToken: 'eyJ0eXAiOiJVU0VSQUNDT1VOVCIsImFsZyI6Mn0.eyJqdGkiOiI5OTZlMmE0MC1hODVmLTQ2YzktYTQ0ZS1kNjU4NGJjYjAyMjQiLCJzdWIiOiI1NjIwZmQxZmMyNTcxNzFmZWMxOWYzMjY7ZWFzeWNhcmVhZG1pbjs1NjE2YTU5ZDQ5M2ZiNzFiZGMxNDkyYTUiLCJhdWQiOiJyaXN0a2VuLmNvbSIsIm5iZiI6IjE1MjAzNjk5NDgiLCJleHAiOiIxNTIwNDU2MzQ4IiwiQ2xhaW1zIjpbeyJLZXkiOiJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiLCJWYWx1ZSI6IlNQQU4gQURNSU4ifV19.okOG2OGJCmCDkOU1l3kRdCGnnsNqaAGrJyS4VN7YBH4=',\n        tempBodyData: {\n            dateOfSale: '2018-03-06',\n            dealerAccountCode: '014996',\n            makeModelInfo: null,\n            partnerSpecificEligibility: [{\"key\": \"dealSaleType\", \"value\": \"RetailFinanced\"}],\n            productPlanType: null,\n            providerCode: 'EASYCARE',\n            vehicleCertification: 'None',\n            vehicleIdentificationNumber: '1FT7W2B69GEA00053',\n            vehicleInservice: null,\n            vehicleOdometer: '1000',\n            vehicleUsageTypes: ['Personal'],\n            quoteSessionNumber: '94763b6d-5429-4c2f-9876-55a46821b9e7',\n            productCodeFilters: null\n        }\n    },\n    rates: {\n        url: 'https://tlcsvcapi.uat.taillight.xyz/rss.span.businessservices/restvehicleratesvc.svc/RetrieveVehicleRates',\n        authToken: 'eyJ0eXAiOiJVU0VSQUNDT1VOVCIsImFsZyI6Mn0.eyJqdGkiOiJlNTE4Njk2MC1lYzc2LTRkZjctOTY2YS1iMDY5Y2E0ODY1ZDUiLCJzdWIiOiI1NjIwZmQxZmMyNTcxNzFmZWMxOWYzMjY7ZWFzeWNhcmVhZG1pbjs1NjE2YTU5ZDQ5M2ZiNzFiZGMxNDkyYTUiLCJhdWQiOiJyaXN0a2VuLmNvbSIsIm5iZiI6IjE1MjY2NjYxOTIiLCJleHAiOiIxNTI2NzUyNTkyIiwiQ2xhaW1zIjpbeyJLZXkiOiJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiLCJWYWx1ZSI6IlNQQU4gQURNSU4ifSx7IktleSI6Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSIsIlZhbHVlIjoiUE9SVEFMIEFETUlOIn1dfQ.19WgLXhzHgX6rPiQjRktGRNFZeW6xre71NtN0VJVZgs=',\n        postmanToken: {\n            key: 'Postman-Token',\n            value: 'a9834658-8490-07c0-6f58-ca47bbcb5474'\n        },\n        cacheControl: {\n            key: 'Cache-Control',\n            value: 'no-cache'\n        },\n\n\n        tempBodyData: {\n            dateOfSale: '2018-05-18',\n                dealerAccountCode: '014996',\n            eligibilitySessionID: null,\n            partnerSpecificEligibility: [],\n            productPlanType: null,\n            productsToRate: [\n            {\n                PartnerSpecificFields: {\n                    FlexFields: [\n                        {\n                            FieldName: 'SORTORDER',\n                            FieldType: 2,\n                            FieldValue: '2'\n                        }\n                    ]\n                },\n                ApplicationCode: 'C1032605',\n                BaseNoUpgradeProduct: null,\n                CertificationType: 0,\n                DisplayName: 'EC Select Plus 6 StandAlone 2014 (US):2605',\n                InternalProductId: 'C1032605',\n                InternalProductVersionId: null,\n                InternalRatingProgramId: null,\n                IsDealerException: false,\n                IsInserviceRequired: false,\n                IsNewCoverage: false,\n                IsVehicleFinancialsRequired: false,\n                IsWrapCoverage: false,\n                ParentProductType: {\n                    PartnerSpecificFields: {\n                        FlexFields: []\n                    },\n                    ApplicationCode: 'ECSP',\n                    ApplicationSubCode: null,\n                    DisplayName: null,\n                    InternalProductTypeId: null,\n                    ParentProductRatingCategory: {\n                        PartnerSpecificFields: {\n                            FlexFields: [\n                                {\n                                    FieldName: 'COMMERCE-RATE-TYPE',\n                                    FieldType: 2,\n                                    FieldValue: 'ECSP'\n                                }\n                            ]\n                        },\n                        Abbreviation: 'ECSP',\n                        ApplicationCode: 'ECSP',\n                        DisplayName: null\n                    },\n                    PartnerCode: 'ECSP',\n                    ProfitSettingCategoryName: null,\n                    SettingDependentSubCode: null,\n                    UpgradesInternalProductTypeId: null\n                },\n                PartnerCode: 'C1032605',\n                ProductCoverages: [\n                    {\n                        CoverageDeductibles: [\n                            {\n                                ProductDeductible: {\n                                    PartnerSpecificFields: {\n                                        FlexFields: []\n                                    },\n                                    Abbreviation: '000',\n                                    DisplayName: '0.00',\n                                    InternalDeductibleId: '0.00',\n                                    NumericValue: 0,\n                                    PartnerCode: '0.00'\n                                }\n                            }\n                        ],\n                        ProductCoverage: {\n                            PartnerSpecificFields: {\n                                FlexFields: []\n                            },\n                            Abbreviation: 'T.SelectPlus',\n                            Description: 'SelectPlus Time only',\n                            DisplayName: 'SelectPlus: Time only',\n                            InternalCoverageId: 'T.SelectPlus',\n                            IsLWBaseCoverage: false,\n                            NumericValue: 0,\n                            PartnerCode: 'T.SelectPlus'\n                        },\n                        ProductTerms: null\n                    }\n                ],\n                ProductOptions: [],\n                RateCalculationMethod: 0,\n                SortOrder: '2',\n                UpgradeProducts: null\n            }\n        ],\n            providerCode: 'EASYCARE',\n            vehicleCertification: 'None',\n            vehicleFinancials: {\n            AmountFinanced: 0,\n                DMSDealNumber: '',\n                DaysToFirstPayment: 0,\n                FinancedAPR: 0,\n                FinancedTermMonths: 0,\n                FirstPaymentDate: '',\n                LenderAddress1: null,\n                LenderAddress2: null,\n                LenderCity: null,\n                LenderCode: null,\n                LenderEmail: null,\n                LenderName: null,\n                LenderPhone: null,\n                LenderState: null,\n                LenderZip: null,\n                MSRP: 0,\n                MoneyFactor: 0,\n                PurchasePrice: 0,\n                StockNumber: '',\n                VehicleSaleType: 'RetailFinanced'\n        },\n            vehicleInservice: null,\n                vehicleOdometer: '2500',\n            vehicleToRate: {\n            InternalMakeId: 'FORD',\n                InternalModelId: '1FT7W2B69G',\n                MakeName: '',\n                ModelName: null,\n                ModelYear: 2016,\n                VehicleIdentification: '1FT7W2B69GEA00053'\n        },\n            vehicleUsageTypes: [\n                'Personal'\n            ],\n                quoteSessionNumber: 'd219be83-c5d8-4fcd-9dc7-f0c36c8fa409'\n        }\n    }\n};\n\n\n\n","module.exports = {\n    getProducts: function(path, method, contentType, authorization, bodyData){\n        // console.log(bodyData.vehicleIdentificationNumber);\n        return new Promise((resolve, reject) => {\n            fetch(path, {\n                headers: {\n                    'content-type': contentType,\n                    'Authorization': authorization\n                },\n                body: JSON.stringify(bodyData),\n                method: method,\n\n            })\n                .then(res => res.json())\n                .then((data) => {\n                    resolve(data);\n                })\n        });\n    },\n    getRatesForProduct: function(path, method, contentType, authorization, cacheControl, postmanToken, bodyData, productId){\n        // console.log('getRatesForProduct called with id ' + productId);\n        return new Promise((resolve, reject) => {\n            fetch(path, {\n                    headers: {\n                        'content-type': contentType,\n                        'Authorization': authorization,\n                        'Cache-Control': cacheControl,\n                        // 'Postman-Token': postmanToken\n                    },\n                    body: JSON.stringify(bodyData),\n                    method: method\n                })\n                .then(res => res.json())\n                .then((data) =>{\n                    resolve(data);\n                });\n        });\n    }\n};","const config = require('./config.js');\nconst dataService = require('./fetchData.js');\n\nfunction AppViewModel() {\n\n    var self = this;\n\n    // The starting position of the app - This sets how many 'cards' from the top the 'focus' section is plus a 'cardHeight' in Pixels\n    self.defaultIndex = 2;\n    self.cardHeight = 180;\n    self.showSelectedProductsDrawer = ko.observable(false);\n\n    // Local variable for our animation duration\n    var duration = 0.25;\n\n    // Temp Loan term var\n    self.loanTerm = ko.observable(48);\n\n    // Boolean value that decides if the user is searching by price, or by term and miles\n    self.isSearchingByPrice = true;\n\n    // Boolean to stop certain user events if draggable or throw is happening\n    self.isDragging = ko.observable(false);\n\n    //Array that we use to store our draggables in so that we can garbage collect later\n    self.allDraggables = [];\n\n    // This array is our main source of Data for the app\n    self.productsWithDetails = ko.observableArray();\n\n    // Vars for setting the indexes\n    self.activeProductIndex = ko.observable(self.defaultIndex);\n    self.activeProductRates = ko.observableArray();\n    self.activeRateIndex = ko.observable(self.defaultIndex);\n    self.activeInputIndex = ko.observable(0);\n\n    // Vars for display Coverages and Deductibles and other information\n    self.activeCoverage = ko.observable();\n    self.activeDeductible = ko.observable();\n\n    self.vehicleDetails = ko.observable();\n\n    self.planCost = ko.observable(0);\n    self.productCount = ko.observable(0);\n    self.monthlyCost = ko.computed(function(){\n        return (self.planCost() / self.loanTerm()).toFixed(2)\n    });\n\n    // Error message and busy page vars\n    self.errorMessage = ko.observable('');\n    self.pageBusy = ko.observable(false);\n\n    /*\n     *\n     *  Event handler callbacks that get triggered once a column on the UI completes its 'drag'\n     *\n     */\n    // Handle completion of products dragged\n    self.handleProductsWrapperDragged = function(returnedValue){\n\n        //Remove our original 'costs' draggable from the DOM, as its contents will have changed. Create a new one\n        self.allDraggables.pop();\n\n        // Update our activeProductRates Array with our new rates\n        self.activeProductRates(self.productsWithDetails()[self.activeProductIndex()].Rates);\n\n        // And create a new draggable based on the updated contents of the dom element\n        self.makeCardsDraggable($(self.columnData[1].domElement), self.columnData[1].callback, self.columnData[1].bindingValue);\n\n        // And update our coverage and deductible vars\n        // self.activeCoverage(self.productsWithDetails()[self.activeProductIndex()].Rates[0].RatedCoverage.DisplayName);\n        // self.activeDeductible(self.productsWithDetails()[self.activeProductIndex()].Rates[0].RatedDeductible.DisplayName);\n\n        // Get the length of our updated list of rates\n        var elementChildrenCount = self.activeProductRates().length,\n            draggableElement = $(self.columnData[1].domElement);\n\n        //If our rates list is less than the top offset of the focus row, animate it to that position.\n        if(elementChildrenCount < (self.defaultIndex + 1)){\n\n            var offsetDifference = (self.defaultIndex) - elementChildrenCount;\n            TweenMax.to(draggableElement, duration, {\n                y: (offsetDifference + 1) * self.cardHeight,\n            });\n        } else {\n            TweenMax.to(draggableElement, duration, {\n                y: 0\n            });\n        }\n    };\n\n    self.handleCostWrapperDragged = function(returnedValue){\n        //Set our activeCost Index\n        self.activeRateIndex(returnedValue);\n    };\n\n    self.handleInputFilledOut = function(){\n        console.log('One input filled out');\n    };\n\n    self.inputMarginTop = ko.observable(0);\n\n    self.incrementInputIndex = function(data){\n        if( data.index < self.formData.length -1 ) {\n            data.isCurrent(false);\n            self.formData[data.index + 1].isCurrent(true)\n            self.activeInputIndex(data.index + 1);\n            self.inputMarginTop( - (((self.activeInputIndex()) * self.cardHeight) - (self.cardHeight * self.defaultIndex)) );\n        }\n        return\n    };\n\n    self.decrementInputIndex = function(data){\n        if( data.index > 0 ) {\n            data.isCurrent(false);\n            self.formData[data.index - 1].isCurrent(true);\n            self.activeInputIndex(data.index - 1);\n            self.inputMarginTop( - (((self.activeInputIndex()) * self.cardHeight) - (self.cardHeight * self.defaultIndex)) );\n        }\n        return\n    };\n\n    /*\n     *\n     * UI Draggable\n     *\n     */\n\n    // Each object in this array represents a column in our draggable UI - Included are the dom element to be selected, a reference to a callback and the KO observable that it updates.\n    self.columnData = [\n        {\n            index: 0,\n            domElement: '.products-wrapper',\n            callback: self.handleProductsWrapperDragged,\n            bindingValue: self.activeProductIndex\n        },\n        {\n            index: 1,\n            domElement: '.cost-wrapper',\n            callback: self.handleCostWrapperDragged,\n            bindingValue: self.activeRateIndex\n        }\n    ];\n\n    self.formData = [\n        {\n            index: 0,\n            inputValue: \"vehicleVin\",\n            displayName: \"VIN Number\",\n            isRequired: true,\n            type: \"text\",\n            callBack: function(){\n                self.loadVehicleDetails(this.value());\n            },\n            value: ko.observable(),\n            isCurrent: ko.observable(true),\n            isComplete: ko.observable(false)\n\n        },\n        {\n            index: 1,\n            inputValue: \"purchasePrice\",\n            displayName: \"Purchase Price\",\n            isRequired: true,\n            type: \"text\",\n            callBack: false,\n            value: ko.observable(),\n            isCurrent: ko.observable(false),\n            isComplete: ko.observable(false)\n\n        },\n        {\n            index: 2,\n            inputValue: \"purchaseDate\",\n            displayName: \"Purchase Date\",\n            isRequired: true,\n            type: \"text\",\n            callBack: false,\n            value: ko.observable(),\n            isCurrent: ko.observable(false),\n            isComplete: ko.observable(false)\n\n        },\n        {\n            index: 3,\n            inputValue: \"submit\",\n            displayName: \"\",\n            isRequired: true,\n            type: \"button\",\n            callBack: function(){\n                self.getProductsForVin(self.formData[0].value());\n            },\n            value: null,\n            isCurrent: ko.observable(false),\n            isComplete: ko.observable(false)\n\n        }\n    ];\n\n\n    /*\n    *\n    * Data retrieval and object creation functions\n    *\n    */\n\n    //Retrieve the vehicle details from the VIN\n    self.loadVehicleDetails = function(VIN){\n\n        console.log(VIN);\n\n        var tempVIN = '3VW2K7AJ0FM30377';\n\n        if(VIN) {\n            var vehicleApi = 'https://vpic.nhtsa.dot.gov/api/vehicles/DecodeVin/' + VIN + '?format=json';\n\n            $.ajax({url: vehicleApi,\n                success: function(result){\n                    self.vehicleDetails(result.Results);\n                },\n                async: true});\n\n            // console.log(self.vehicleDetails());\n        }\n    };\n\n    // Gets all products for our VIN\n    self.getProductsForVin = function(VIN){\n\n        // Set our pageBusy UI Var\n        self.pageBusy(true);\n\n        // Empty our product object first\n        self.productsWithDetails([]);\n\n        // Define the values we need to get products for our vin\n        const path = config.products.url;\n        const method = 'POST';\n        const contentType = 'application/json';\n        const authorization = config.products.authToken;\n        const bodyData = config.products.tempBodyData;\n\n        // If we have a VIN from the UI, use this one instead - mock data object has a hard-coded vin as a fallback\n        if(VIN){\n            bodyData.vehicleIdentificationNumber = VIN;\n        }\n\n        // Make a call to our getProducts method\n        dataService.getProducts(path, method, contentType, authorization, bodyData)\n            .then(function(data){\n\n                $.each(data.Products, (index)=>{\n                    data.Products[index].isSelected = ko.observable(false);\n                    data.Products[index].Rates = [];\n\n                    // Define the values we need to get rates for our products\n                    const path = config.rates.url;\n                    const method = 'POST';\n                    const contentType = 'application/json';\n                    const authorization = config.rates.authToken;\n                    const bodyData = config.rates.tempBodyData;\n\n                    bodyData.productsToRate[0].InternalProductId = data.Products[index].InternalProductId;\n                    bodyData.productsToRate[0].ApplicationCode = data.Products[index].InternalProductId;\n\n                    const cacheControl = 'no-cache';\n                    const postmanToken = 'a9834658-8490-07c0-6f58-ca47bbcb5474';\n\n                    // Call our getRatesForProduct method once for each product\n                    dataService.getRatesForProduct(path, method, contentType, authorization, cacheControl, postmanToken, bodyData, data.Products[index].InternalProductId)\n                        .then(function(rates){\n                            //console.log(rates);\n                            // Add an isSelected observable to each of our rates\n                            $.each(rates.Rates[0].RatedTerms, function(i){\n                                rates.Rates[0].RatedTerms[i].isSelected = ko.observable(false);\n                                data.Products[index].Rates.push(rates.Rates[0].RatedTerms[i]);\n                            });\n                            //console.log(data.Products[index]);\n                        });\n\n                    // Update our observable array with the data\n                    self.productsWithDetails.push(data.Products[index]);\n                });\n\n                // // Update other data vars\n                self.activeProductRates(self.productsWithDetails()[self.activeProductIndex()].Rates);\n                // self.activeCoverage(self.productsWithDetails()[self.activeProductIndex()].Rates[0].RatedCoverage.DisplayName);\n                // self.activeDeductible(self.productsWithDetails()[self.activeProductIndex()].Rates[0].RatedDeductible.DisplayName);\n\n                // Make our cards draggable\n                $.each(self.columnData, function(index){\n                    self.makeCardsDraggable($(self.columnData[index].domElement), self.columnData[index].callback, self.columnData[index].bindingValue);\n                });\n\n                // Turn off our pageBusy var\n                self.pageBusy(false);\n\n            });\n\n        console.log(self.productsWithDetails());\n\n        // Animated our views so that we go to scroll view.\n        TweenMax.to('.input-view', duration, {\n            left: '-100%'\n        });\n        TweenMax.to('.products-view', duration, {\n            left: 0\n        });\n    };\n\n\n    //Makes the selected elements on the DOM draggable\n    self.makeCardsDraggable = function(draggableElement, callBack, bindingValue){\n\n        // Make our draggable columns draggable\n        var elementChildren = $(draggableElement).children(),\n            elementChildrenCount = $(elementChildren).length;\n\n        // Set all our cards height to the self.cardHeight variable\n        $(elementChildren).css({ height: self.cardHeight + 'px'});\n        // Also set the height of our active-card-frame\n        $('.active-card-frame').css({ height: self.cardHeight + 'px'});\n\n        // Generate a list of snap values\n        var snapArray = new Array();\n        for(var i = -self.defaultIndex; i < elementChildrenCount - self.defaultIndex; i++){\n            snapArray.push( -(i * self.cardHeight));\n        }\n\n        //If our rates list is less than the top offset of the focus row, animate it to that position.\n        if(elementChildrenCount < (self.defaultIndex + 1)){\n\n            var offsetDifference = (self.defaultIndex) - elementChildrenCount;\n            TweenMax.to(draggableElement, duration, {\n                y: (offsetDifference + 1) * self.cardHeight\n            });\n        } else {\n            TweenMax.to(draggableElement, duration, {\n                y: 0\n            });\n        }\n\n        // Function to return the index of the card that is in the 'active-card-frame'\n        var generateDraggableIndex = function(value01, value02){\n            return Math.abs(Math.round((value01/value02)) - self.defaultIndex);\n        };\n\n        // Set the default binding values for the cards\n        if( elementChildrenCount == 1){\n            bindingValue(0);\n        } else if ( elementChildrenCount == 2 ) {\n            bindingValue(1);\n        } else {\n            bindingValue(self.defaultIndex);\n        }\n\n        // Var to set the number of cards 'above' and 'below' the current card - this is limited to the height of the viewport minus height of each 'card'\n        var animateCardLimits = Math.round($(window).height()/self.cardHeight),\n            animateCardIndex = animateCardLimits;\n\n            animateCardLimits = animateCardLimits.toFixed(2);\n\n        var animateAllCards = function(children, index){\n\n            $.each(children, function(i){\n\n                if( i === index ){\n                    $(elementChildren[i]).children().addClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 1,\n                        // transform: 'scale3d(1, 1, 1)'\n                    });\n                } else if (i === index - 1 || i === index + 1){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.9,\n                        // transform: 'scale3d(0.95, 1, 1)'\n                    });\n                } else if (i === index - 2 || i === index + 2){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.8,\n                        // transform: 'scale3d(0.9, 1, 1)'\n                    });\n                } else if (i === index - 3 || i === index + 3){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.7,\n                        // transform: 'scale3d(0.85, 1, 1)'\n                    });\n                } else if (i === index - 4 || i === index + 4){\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0.6,\n                        // transform: 'scale3d(0.8, 1, 1)'\n                    });\n                } else if (i < index - 4 || i > index + 4) {\n                    $(elementChildren[i]).children().removeClass('active-product');\n                    TweenMax.to($(elementChildren[i]).children(), duration, {\n                        opacity: 0\n                    });\n                }\n\n            });\n        };\n\n\n        // Call our animated card methods for the first time...\n        animateAllCards(elementChildren, self.defaultIndex);\n\n        // However, if the total number of children is less than our defaultIndex (2) the first one in the array needs to be set as 'active'\n        if( elementChildrenCount <= self.defaultIndex ){\n            if( elementChildrenCount == 1 || elementChildrenCount ==  self.defaultIndex ){\n                $(elementChildren[0]).children('.card-content').addClass('active-product');\n                TweenMax.to($(elementChildren[0]).children('.card-content'), duration, {\n                    opacity: 1,\n                    transform: 'scale3d(1, 1, 1)'\n                });\n            }\n        }\n\n        //Create the draggable element and assign it a var\n        var newDraggable = Draggable.create(draggableElement, {\n            type: \"y\",\n            edgeResistance: 0.95,\n            throwProps:true,\n            snap: snapArray,\n            zIndexBoost: false,\n            maxDuration: duration,\n            onClick: function(){\n                self.isDragging(true);\n            },\n            onDrag: function(){\n                var draggableIndex = generateDraggableIndex(this.y, self.cardHeight);\n                animateAllCards(elementChildren, draggableIndex);\n                self.isDragging(true);\n            },\n            onThrowUpdate: function(){\n                var draggableIndex = generateDraggableIndex(this.y, self.cardHeight);\n                animateAllCards(elementChildren, draggableIndex);\n                self.isDragging(true);\n            },\n            onThrowComplete: function(){\n                bindingValue(Math.abs(Math.round(this.endY / self.cardHeight) - self.defaultIndex));\n                callBack(Math.abs(Math.round(this.endY / self.cardHeight) - self.defaultIndex));\n                self.isDragging(false);\n            }\n        });\n\n        //Push all draggables to an array so that we can access them later.\n        self.allDraggables.push(newDraggable);\n    };\n\n\n    /*\n     *\n     * Showing and Hiding options drawer\n     *\n     */\n\n    // Function to show or hide the selected-options-drawer\n    self.showHideOptionsDrawer = function(){\n        self.showSelectedProductsDrawer(!self.showSelectedProductsDrawer());\n    };\n\n    /*\n     *\n     * adding and remove products with rates\n     *\n     */\n\n    // Add product with rate\n    self.addProductWithRate = function(data){\n\n        // First set our product isSelected observable to true\n        self.productsWithDetails()[self.activeProductIndex()].isSelected(true);\n\n        // Then loop through all of its rates and set all to false...\n        var rates = self.productsWithDetails()[self.activeProductIndex()].Rates;\n        $.each(rates, function(index){\n            rates[index].isSelected(false);\n        });\n        // Finally set the rate at the activeRateIndex to true\n        rates[self.activeRateIndex()].isSelected(true);\n        // And updated our Aside observables\n        self.generatePlanCostAndProductCount();\n    };\n\n    // Remove product with rate\n    self.removeProductWithRate = function(index, data){\n        // First set our product isSelected observable to false\n        self.productsWithDetails()[index()].isSelected(false);\n\n        // Then loop through all of its rates and set all to false...\n        var rates = self.productsWithDetails()[index()].Rates;\n        $.each(rates, function(index){\n            rates[index].isSelected(false);\n        });\n        // And updated our Aside observables\n        self.generatePlanCostAndProductCount();\n    };\n\n    // Keydown event listener which handles different key events\n    self.listenForKeyDown = function(){\n        $( \"#commerceProductApp\" ).keydown(function(event) {\n\n            switch ( event.which ){\n\n                // If user taps tab, we focus on next input\n                case 9:\n                    event.preventDefault();\n                    self.incrementInputIndex( self.formData[self.activeInputIndex()] );\n                    break;\n            }\n        });\n    };\n\n\n    /*\n     *\n     * Aside observables calculator\n     *\n     */\n\n    self.generatePlanCostAndProductCount = function(){\n        var totalPlanCost = 0;\n        var productsCount = 0;\n        $.each(self.productsWithDetails(), function(index){\n            if(self.productsWithDetails()[index].isSelected()){\n                productsCount ++;\n                $.each(self.productsWithDetails()[index].Rates[0].RatedTerms, function(i){\n                    if(self.productsWithDetails()[index].Rates[0].RatedTerms[i].isSelected()){\n                        totalPlanCost += self.productsWithDetails()[index].Rates[0].RatedTerms[i].DealerCost;\n                    }\n                });\n            }\n        });\n        self.planCost(totalPlanCost);\n        self.productCount(productsCount);\n    };\n\n\n    /*\n     *\n     * Initialize the project\n     *\n     */\n\n    // This function bootstraps our page\n    self.init = function(){\n        // Set the top offset of our active area based on the self.defaultIndex;\n        $('.active-card-frame').css({ top: self.defaultIndex * self.cardHeight + 'px' });\n        // Set the top of our button\n        $('.add-product').css({ top: ((self.defaultIndex * self.cardHeight) + self.cardHeight/2) - 40 + 'px' });\n        // Set the top of the my-plan div\n        $('.my-plan').css({ top: ((self.defaultIndex + 1 ) * self.cardHeight) + 'px' });\n        // Add keydown event listeners to our app\n        self.listenForKeyDown();\n        // Animate the martinTop of our inputs container\n        self.inputMarginTop( - (((self.activeInputIndex()) * self.cardHeight) - (self.cardHeight * self.defaultIndex)) );\n    };\n\n    // Inits the app once the document is ready\n    $(document).ready(function(){\n        self.init();\n    });\n\n\n\n\n    /*\n     *\n     * Return our revealing module\n     *\n     */\n\n    return {\n        //App vars\n        errorMessage: self.errorMessage,\n        pageBusy: self.pageBusy,\n\n        // Input array\n        activeInputIndex: self.activeInputIndex,\n        inputMarginTop: self.inputMarginTop,\n        incrementInputIndex: self.incrementInputIndex,\n        decrementInputIndex: self.decrementInputIndex,\n        vehicleDetails: self.vehicleDetails,\n        formData: self.formData,\n\n        // Products array\n        isSearchingByPrice: self.isSearchingByPrice,\n        productsWithDetails: self.productsWithDetails,\n        activeProductIndex: self.activeProductIndex,\n        activeProductRates: self.activeProductRates,\n        isDragging: self.isDragging,\n\n        // Aside vars\n        planCost: self.planCost,\n        monthlyCost: self.monthlyCost,\n        productCount: self.productCount,\n        loanTerm: self.loanTerm,\n        showHideOptionsDrawer: self.showHideOptionsDrawer,\n        showSelectedProductsDrawer :self.showSelectedProductsDrawer,\n        addProductWithRate: self.addProductWithRate,\n        removeProductWithRate: self.removeProductWithRate,\n        activeCoverage: self.activeCoverage,\n        activeDeductible: self.activeDeductible\n\n    };\n}\n\n// Activates knockout.js\nko.applyBindings(new AppViewModel(), document.getElementById('commerceProductApp'));\n\n// uat\n// easycareuat\n// U@Testing123\n// APCO-02\n// 4T1BF1FK7GU566533"]}